<!DOCTYPE html><html lang="zh-CN" data-default-color-scheme="auto"><head><meta charset="UTF-8"><link rel="apple-touch-icon" sizes="76x76" href="/img/favicon.png"><link rel="icon" href="/img/favicon.png"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=5,shrink-to-fit=no"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta http-equiv="Content-Security-Policy" content="upgrade-insecure-requests"><meta name="theme-color" content="#2f4154"><meta name="author" content="连思鑫"><meta name="keywords" content="博客"><meta name="description" content="超星全自动刷网课刷题脚本开源 1.教程   使用电脑自带的Edge浏览器   下载tampermonkey浏览器脚本管理工具。下载地址点我   安装tampermonkey。这是直接安装在你Edge浏览器上的，傻瓜式操作。   安装完成后浏览器的右上角会出现一个图标，如下图    用鼠标左键点它，选择添加新脚本，然后把我下面写的代码复制粘贴进去（记得保存哦！），打开超星登录，你就会发现它变成全自动"><meta property="og:type" content="article"><meta property="og:title" content="【福利】超星全自动刷网课刷题脚本开源【22.4.23更新】"><meta property="og:url" content="https://jinbilianshao.github.io/2022/03/12/%E3%80%90%E7%A6%8F%E5%88%A9%E3%80%91%E8%B6%85%E6%98%9F%E5%85%A8%E8%87%AA%E5%8A%A8%E5%88%B7%E7%BD%91%E8%AF%BE%E5%88%B7%E9%A2%98%E8%84%9A%E6%9C%AC%E5%BC%80%E6%BA%90/index.html"><meta property="og:site_name" content="连思鑫的博客"><meta property="og:description" content="超星全自动刷网课刷题脚本开源 1.教程   使用电脑自带的Edge浏览器   下载tampermonkey浏览器脚本管理工具。下载地址点我   安装tampermonkey。这是直接安装在你Edge浏览器上的，傻瓜式操作。   安装完成后浏览器的右上角会出现一个图标，如下图    用鼠标左键点它，选择添加新脚本，然后把我下面写的代码复制粘贴进去（记得保存哦！），打开超星登录，你就会发现它变成全自动"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://jinbilianshao.github.io/images/2022-3-12-3.png"><meta property="og:image" content="https://jinbilianshao.github.io/images/2022-3-12-4.png"><meta property="og:image" content="https://jinbilianshao.github.io/images/2022-3-12-1.png"><meta property="og:image" content="https://jinbilianshao.github.io/images/2022-3-12-2.png"><meta property="article:published_time" content="2022-03-12T07:52:00.000Z"><meta property="article:modified_time" content="2025-07-05T11:06:38.636Z"><meta property="article:author" content="连思鑫"><meta property="article:tag" content="福利"><meta property="article:tag" content="超星"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:image" content="https://jinbilianshao.github.io/images/2022-3-12-3.png"><meta name="referrer" content="no-referrer-when-downgrade"><title>【福利】超星全自动刷网课刷题脚本开源【22.4.23更新】 - 连思鑫的博客</title><link rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css"><link rel="stylesheet" href="/css/main.css"><link id="highlight-css" rel="stylesheet" href="/css/highlight.css"><link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css"><script id="fluid-configs">var Fluid=window.Fluid||{};Fluid.ctx=Object.assign({},Fluid.ctx);var dntVal,CONFIG={hostname:"jinbilianshao.github.io",root:"/",version:"1.9.1",typing:{enable:!0,typeSpeed:70,cursorChar:"_",loop:!1,scope:[]},anchorjs:{enable:!0,element:"h1,h2,h3,h4,h5,h6",placement:"left",visible:"hover",icon:""},progressbar:{enable:!0,height_px:3,color:"#29d",options:{showSpinner:!1,trickleSpeed:100}},code_language:{enable:!0,default:"TEXT"},copy_btn:!0,image_caption:{enable:!0},image_zoom:{enable:!0,img_url_replace:["",""]},toc:{enable:!0,placement:"right",headingSelector:"h1,h2,h3,h4,h5,h6",collapseDepth:0},lazyload:{enable:!0,loading_img:"/img/loading.gif",onlypost:!1,offset_factor:2},web_analytics:{enable:!0,follow_dnt:!0,baidu:null,google:null,gtag:null,tencent:{sid:null,cid:null},woyaola:null,cnzz:null,leancloud:{app_id:null,app_key:null,server_url:null,path:"window.location.pathname",ignore_local:!1}},search_path:"/local-search.xml"};CONFIG.web_analytics.follow_dnt&&(dntVal=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,Fluid.ctx.dnt=dntVal&&(dntVal.startsWith("1")||dntVal.startsWith("yes")||dntVal.startsWith("on")))</script><script src="/js/utils.js"></script><script src="/js/color-schema.js"></script><meta name="generator" content="Hexo 7.3.0"></head><body><header><div class="header-inner" style="height:70vh"><nav id="navbar" class="navbar fixed-top navbar-expand-lg navbar-dark scrolling-navbar"><div class="container"><a class="navbar-brand" href="/"><strong>连思鑫的博客</strong> </a><button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><div class="animated-icon"><span></span><span></span><span></span></div></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto text-center"><li class="nav-item"><a class="nav-link" href="https://jinbilianshao.github.io"><i class="iconfont icon-home-fill"></i> 首页</a></li><li class="nav-item"><a class="nav-link" href="/archives/"><i class="iconfont icon-archive-fill"></i> 归档</a></li><li class="nav-item"><a class="nav-link" href="/categories/"><i class="iconfont icon-category-fill"></i> 分类</a></li><li class="nav-item"><a class="nav-link" href="/tags/"><i class="iconfont icon-tags-fill"></i> 标签</a></li><li class="nav-item"><a class="nav-link" href="https://jinbilianshao.github.io/xiaoxin/"><i class="iconfont icon-user-fill"></i> 关于</a></li><li class="nav-item" id="search-btn"><a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">&nbsp;<i class="iconfont icon-search"></i>&nbsp;</a></li><li class="nav-item" id="color-toggle-btn"><a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a></li></ul></div></div></nav><div id="banner" class="banner" parallax="true" style="background:url(/img/default.png) no-repeat center center;background-size:cover"><div class="full-bg-img"><div class="mask flex-center" style="background-color:rgba(0,0,0,.3)"><div class="banner-text text-center fade-in-up"><div class="h2"><span id="subtitle" data-typed-text="【福利】超星全自动刷网课刷题脚本开源【22.4.23更新】"></span></div><div class="mt-3"><span class="post-meta mr-2"><i class="iconfont icon-author" aria-hidden="true"></i> 连思鑫 </span><span class="post-meta"><i class="iconfont icon-date-fill" aria-hidden="true"></i> <time datetime="2022-03-12 15:52" pubdate>2022年3月12日 下午</time></span></div><div class="mt-1"><span class="post-meta mr-2"><i class="iconfont icon-chart"></i>41k 字 </span><span class="post-meta mr-2"><i class="iconfont icon-clock-fill"></i> 342 分钟 </span><span id="busuanzi_container_page_pv" style="display:none"><i class="iconfont icon-eye" aria-hidden="true"></i> <span id="busuanzi_value_page_pv"></span> 次</span></div></div></div></div></div></div></header><main><div class="container-fluid nopadding-x"><div class="row nomargin-x"><div class="side-col d-none d-lg-block col-lg-2"></div><div class="col-lg-8 nopadding-x-md"><div class="container nopadding-x-md" id="board-ctn"><div id="board"><article class="post-content mx-auto"><h1 style="display:none">【福利】超星全自动刷网课刷题脚本开源【22.4.23更新】</h1><p class="note note-info">本文最后更新于：2025年7月5日 晚上</p><div class="markdown-body"><h1>超星全自动刷网课刷题脚本开源</h1><h2 id="1-教程">1.教程</h2><ol><li><p>使用电脑自带的Edge浏览器</p></li><li><p>下载tampermonkey浏览器脚本管理工具。<a target="_blank" rel="noopener" href="https://www.tampermonkey.net/?ext=dhdg&amp;browser=edge">下载地址点我</a></p></li><li><p>安装tampermonkey。这是直接安装在你Edge浏览器上的，傻瓜式操作。</p></li><li><p>安装完成后浏览器的右上角会出现一个图标，如下图 <img src="/images/2022-3-12-3.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p></li><li><p>用鼠标左键点它，选择添加新脚本，然后把我下面写的代码复制粘贴进去（记得保存哦！），打开超星登录，你就会发现它变成全自动了。 <img src="/images/2022-3-12-4.png" srcset="/img/loading.gif" lazyload alt="upload successful"></p></li><li><p>如果你懒得复制代码，就点我封装好的js库去安装，下面我会放入网址。【更新内容】</p></li><li><p>脚本安装网址<a target="_blank" rel="noopener" href="https://greasyfork.org/scripts/443325-%E8%B6%85%E6%98%9F%E5%B0%94%E9%9B%85mooc%E5%AD%A6%E4%B9%A0%E9%80%9A%E7%AB%A0%E8%8A%82%E6%8C%82%E6%9C%BA%E5%8A%A9%E6%89%8B-2022-3-19-%E4%B8%80%E4%BA%BF%E9%A2%98%E5%BA%93/code/%E8%B6%85%E6%98%9F%E5%B0%94%E9%9B%85MOOC%E5%AD%A6%E4%B9%A0%E9%80%9A%E7%AB%A0%E8%8A%82%E6%8C%82%E6%9C%BA%E5%8A%A9%E6%89%8B%E3%80%902022319%E3%80%91%E3%80%90%E4%B8%80%E4%BA%BF%E9%A2%98%E5%BA%93%E3%80%91.user.js">点我安装</a>  【更新内容】</p></li></ol><h2 id="2-脚本代码">2.脚本代码</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br></pre></td><td class="code"><pre><code class="hljs javascript"><span class="hljs-comment">// ==UserScript==</span><br><span class="hljs-comment">// @name         超星尔雅MOOC学习通章节挂机助手【2022/3/19】【一亿题库】</span><br><span class="hljs-comment">// @version      8.0.13</span><br><span class="hljs-comment">// @namespace    Bruce_hai</span><br><span class="hljs-comment">// @description  发现很多脚本并不能搜索选项，空闲时间开发同时搜索【标题】【选项】和【超星id】能够更加精准并迅速的找到答案[高准确率带选项查询,急速响应,任何问题及时联系群主更新]自动挂机看尔雅MOOC，支持视频、音频、文档、图书自动完成，章节测验自动答题提交，支持自动切换任务点、挂机阅读时长、自动登录等，解除各类功能限制，开放自定义参数</span><br><span class="hljs-comment">// @author       Bruce_hai</span><br><span class="hljs-comment">// @match        *://*.chaoxing.com/*</span><br><span class="hljs-comment">// @match        *://*.edu.cn/*</span><br><span class="hljs-comment">// @match        *://*.nbdlib.cn/*</span><br><span class="hljs-comment">// @match        *://*.hnsyu.net/*</span><br><span class="hljs-comment">// @match        *://*.dayi100.com/*</span><br><span class="hljs-comment">// @connect      134.175.72.16</span><br><span class="hljs-comment">// @connect      119.6.233.156</span><br><span class="hljs-comment">// @run-at       document-end</span><br><span class="hljs-comment">// @grant        unsafeWindow</span><br><span class="hljs-comment">// @grant        GM_xmlhttpRequest</span><br><span class="hljs-comment">// @grant        GM_setValue</span><br><span class="hljs-comment">// @grant        GM_getValue</span><br><span class="hljs-comment">// @grant        GM_setClipboard</span><br><span class="hljs-comment">// @license      MIT</span><br><span class="hljs-comment">// @require      https://libs.baidu.com/jquery/2.0.0/jquery.min.js</span><br><span class="hljs-comment">// @original-script https://greasyfork.org/scripts/369625</span><br><span class="hljs-comment">// @original-author wyn665817</span><br><span class="hljs-comment">// @original-script https://scriptcat.org/script-show-page/10/code</span><br><span class="hljs-comment">// @original-author coder_tq</span><br><span class="hljs-comment">// @original-license MIT</span><br><span class="hljs-comment">// ==/UserScript==</span><br><span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&quot;video_url&quot;</span>,<span class="hljs-number">0</span>)<br><span class="hljs-comment">// 设置修改后，需要刷新或重新打开网课页面才会生效 设置了响应时间，更新再等等吧</span><br><span class="hljs-keyword">var</span> setting = &#123;<br>    <span class="hljs-comment">// 5E3 == 5000，科学记数法，表示毫秒数</span><br>    <span class="hljs-attr">time</span>: <span class="hljs-number">5E3</span> <span class="hljs-comment">// 默认响应速度为5秒，不建议小于5秒</span><br>    , <span class="hljs-attr">review</span>: <span class="hljs-number">0</span> <span class="hljs-comment">// 复习模式，完整挂机视频(音频)时长，支持挂机任务点已完成的视频和音频，默认关闭</span><br>    , <span class="hljs-attr">queue</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 队列模式，开启后任务点逐一完成，关闭则单页面所有任务点同时进行，默认开启</span><br> <br>    <span class="hljs-comment">// 1代表开启，0代表关闭</span><br>    , <span class="hljs-attr">video</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 视频支持后台、切换窗口不暂停，支持多视频，默认开启</span><br>    , <span class="hljs-attr">work</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 自动答题功能(章节测验)，作业需要手动开启查询，高准确率，默认开启</span><br>    , <span class="hljs-attr">audio</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 音频自动播放，与视频功能共享vol和rate参数，默认开启</span><br>    , <span class="hljs-attr">book</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 图书阅读任务点，非课程阅读任务点，默认开启</span><br>    , <span class="hljs-attr">docs</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 文档阅读任务点，PPT类任务点自动完成阅读任务，默认开启</span><br>    <span class="hljs-comment">// 本区域参数，上方为任务点功能，下方为独立功能</span><br>    , <span class="hljs-attr">jump</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 自动切换任务点、章节、课程(需要配置course参数)，默认开启</span><br>    , <span class="hljs-attr">read</span>: <span class="hljs-string">&#x27;65&#x27;</span> <span class="hljs-comment">// 挂机课程阅读时间，单位是分钟，&#x27;65&#x27;代表挂机65分钟，请手动打开阅读页面，默认&#x27;65&#x27;分钟</span><br>    , <span class="hljs-attr">face</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 解除面部识别(不支持二维码类面部采集)，此功能仅为临时解除，默认开启</span><br>    , <span class="hljs-attr">total</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 显示课程进度的统计数据，在学习进度页面的上方展示，默认开启</span><br> <br>    <span class="hljs-comment">// 仅开启video(audio)时，修改此处才会生效</span><br>    , <span class="hljs-attr">line</span>: <span class="hljs-string">&#x27;公网1&#x27;</span> <span class="hljs-comment">// 视频播放的默认资源线路，此功能适用于系统默认线路无资源，默认&#x27;公网1&#x27;</span><br>    , <span class="hljs-attr">http</span>: <span class="hljs-string">&#x27;标清&#x27;</span> <span class="hljs-comment">// 视频播放的默认清晰度，无效参数则使用系统默认清晰度，默认&#x27;标清&#x27;</span><br>    <span class="hljs-comment">// 本区域参数，上方为video功能独享，下方为audio功能共享</span><br>    , <span class="hljs-attr">vol</span>: <span class="hljs-string">&#x27;0&#x27;</span> <span class="hljs-comment">// 默认音量的百分数，设定范围：[0,100]，&#x27;0&#x27;为静音，默认&#x27;0&#x27;</span><br>    , <span class="hljs-attr">rate</span>: <span class="hljs-string">&#x27;0&#x27;</span> <span class="hljs-comment">// 视频播放默认倍率，参数范围0∪[0.0625,16]，&#x27;0&#x27;为秒过，倍速功能已失效，先一倍速看着</span><br> <br>    <span class="hljs-comment">// 仅开启work时，修改此处才会生效</span><br>    <span class="hljs-comment">// auto: 1 已放置面板,请在面板配置,默认为自动提交 // 答题完成后自动提交，默认开启</span><br>    , <span class="hljs-attr">none</span>: <span class="hljs-number">0</span> <span class="hljs-comment">// 无匹配答案时执行默认操作，关闭后若题目无匹配答案则会暂时保存已作答的题目，默认开启</span><br>    , <span class="hljs-attr">scale</span>: <span class="hljs-number">0</span> <span class="hljs-comment">// 富文本编辑器高度自动拉伸，用于文本类题目，答题框根据内容自动调整大小，默认关闭</span><br> <br>    <span class="hljs-comment">// 仅开启jump时，修改此处才会生效</span><br>    , <span class="hljs-attr">course</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 当前课程完成后自动切换课程，仅支持按照根目录课程顺序切换，默认开启</span><br>    , <span class="hljs-attr">lock</span>: <span class="hljs-number">1</span> <span class="hljs-comment">// 跳过未开放(图标是锁)的章节，即闯关模式或定时发放的任务点，默认开启</span><br>    ,version :<span class="hljs-string">&#x27;8.0.13&#x27;</span><br>    <span class="hljs-comment">// 自动登录功能配置区</span><br>    , <span class="hljs-attr">school</span>: <span class="hljs-string">&#x27;账号为手机号可以不修改此参数&#x27;</span> <span class="hljs-comment">// 学校/单位/机构码，要求完整有效可查询，例如&#x27;清华大学&#x27;</span><br>    , <span class="hljs-attr">username</span>: <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// 学号/工号/借书证号(邮箱/手机号/账号)，例如&#x27;2018010101&#x27;，默认&#x27;&#x27;</span><br>    , <span class="hljs-attr">password</span>: <span class="hljs-string">&#x27;&#x27;</span> <span class="hljs-comment">// 密码，例如&#x27;123456&#x27;，默认&#x27;&#x27;</span><br> <br>&#125;,<br>    _self = unsafeWindow,<br>    url = location.<span class="hljs-property">pathname</span>,<br>    top = _self,<br>    <span class="hljs-comment">//apihost = &quot;http://134.175.72.16/xuexitong&quot;;//   下面的不能用用这个</span><br>    apihost = <span class="hljs-string">&quot;http://119.6.233.156:309/xuexitong&quot;</span>;<span class="hljs-comment">//   高防御服务器，打死我买20台。两个只能存在一个，如果用这个就取消最前面的//</span><br> <br> <br><span class="hljs-keyword">var</span> tmpSubmit = <span class="hljs-number">1</span>;<br><span class="hljs-title class_">Object</span>.<span class="hljs-title function_">defineProperty</span>(setting, <span class="hljs-string">&quot;auto&quot;</span>, &#123;<br>    <span class="hljs-attr">get</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (tmpSubmit &gt;= <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">return</span> tmpSubmit === <span class="hljs-number">3</span>;<br>        &#125;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&quot;autosubmit&quot;</span>);<br>    &#125;, <span class="hljs-attr">set</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>        tmpSubmit = value + <span class="hljs-number">2</span>;<br>    &#125;<br>&#125;);<br> <br>setting.<span class="hljs-property">notice</span> = <span class="hljs-string">&#x27;公告栏&#x27;</span>;<br> <br><span class="hljs-keyword">if</span> (url != <span class="hljs-string">&#x27;/studyApp/studying&#x27;</span> &amp;&amp; top != _self.<span class="hljs-property">top</span>) <span class="hljs-variable language_">document</span>.<span class="hljs-property">domain</span> = location.<span class="hljs-property">host</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/.+?\./</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br> <br><span class="hljs-keyword">try</span> &#123;<br>    <span class="hljs-keyword">while</span> (top != _self.<span class="hljs-property">top</span>) &#123;<br>        top = top.<span class="hljs-property">parent</span>.<span class="hljs-property">document</span> ? top.<span class="hljs-property">parent</span> : _self.<span class="hljs-property">top</span>;<br>        <span class="hljs-keyword">if</span> (top.<span class="hljs-property">location</span>.<span class="hljs-property">pathname</span> == <span class="hljs-string">&#x27;/mycourse/studentstudy&#x27;</span>) <span class="hljs-keyword">break</span>;<br>    &#125;<br>&#125; <span class="hljs-keyword">catch</span> (err) &#123;<br>    <span class="hljs-comment">// console.log(err);</span><br>    top = _self;<br>&#125;<br> <br><span class="hljs-keyword">var</span> $ = _self.<span class="hljs-property">jQuery</span> || top.<span class="hljs-property">jQuery</span>,<br>    parent = _self == top ? self : _self.<span class="hljs-property">parent</span>,<br>    <span class="hljs-title class_">Ext</span> = _self.<span class="hljs-property">Ext</span> || parent.<span class="hljs-property">Ext</span> || &#123;&#125;,<br>    <span class="hljs-variable constant_">UE</span> = _self.<span class="hljs-property">UE</span>,<br>    vjs = _self.<span class="hljs-property">videojs</span>;<br> <br>$(<span class="hljs-string">&#x27;.Header&#x27;</span>).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;a:contains(回到旧版)&#x27;</span>)[<span class="hljs-number">0</span>] ? $(<span class="hljs-string">&#x27;.Header&#x27;</span>).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;a:contains(回到旧版)&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">click</span>() : <span class="hljs-string">&#x27;&#x27;</span>;<br> <br><span class="hljs-title class_">String</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>.<span class="hljs-property">toCDB</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s/g</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[\uff01-\uff5e]/g</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">str</span>) &#123;<br>        <span class="hljs-keyword">return</span> <span class="hljs-title class_">String</span>.<span class="hljs-title function_">fromCharCode</span>(str.<span class="hljs-title function_">charCodeAt</span>(<span class="hljs-number">0</span>) - <span class="hljs-number">65248</span>);<br>    &#125;).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[“”]/g</span>, <span class="hljs-string">&#x27;&quot;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/[‘’]/g</span>, <span class="hljs-string">&quot;&#x27;&quot;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/。/g</span>, <span class="hljs-string">&#x27;.&#x27;</span>);<br>&#125;;<br> <br>setting.<span class="hljs-property">normal</span> = <span class="hljs-string">&#x27;&#x27;</span>; <span class="hljs-comment">// &#x27;:visible&#x27;</span><br><span class="hljs-comment">// setting.time += Math.ceil(setting.time * Math.random()) - setting.time / 2;</span><br>setting.<span class="hljs-property">job</span> = [<span class="hljs-string">&#x27;:not(*)&#x27;</span>];<br> <br>setting.<span class="hljs-property">video</span> &amp;&amp; setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;iframe[src*=&quot;/video/index.html&quot;]&#x27;</span>);<br>setting.<span class="hljs-property">work</span> &amp;&amp; setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;iframe[src*=&quot;/work/index.html&quot;]&#x27;</span>);<br>setting.<span class="hljs-property">audio</span> &amp;&amp; setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;iframe[src*=&quot;/audio/index.html&quot;]&#x27;</span>);<br>setting.<span class="hljs-property">book</span> &amp;&amp; setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;iframe[src*=&quot;/innerbook/index.html&quot;]&#x27;</span>);<br>setting.<span class="hljs-property">docs</span> &amp;&amp; setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">push</span>(<span class="hljs-string">&#x27;iframe[src*=&quot;/ppt/index.html&quot;]&#x27;</span>, <span class="hljs-string">&#x27;iframe[src*=&quot;/pdf/index.html&quot;]&#x27;</span>);<br> <br>setting.<span class="hljs-property">tip</span> = !setting.<span class="hljs-property">queue</span> || top != _self &amp;&amp; <span class="hljs-title function_">jobSort</span>($ || <span class="hljs-title class_">Ext</span>.<span class="hljs-property">query</span>);<br> <br><span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/mycourse/studentstudy&#x27;</span>) &#123;<br>    _self.<span class="hljs-property">checkMobileBrowerLearn</span> = $.noop;<br>    <span class="hljs-keyword">var</span> classId = location.<span class="hljs-property">search</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/cla[zs]&#123;2&#125;id=(\d+)/i</span>)[<span class="hljs-number">1</span>] || <span class="hljs-number">0</span>,<br>        courseId = _self.<span class="hljs-property">courseId</span> || location.<span class="hljs-property">search</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/courseId=(\d+)/i</span>)[<span class="hljs-number">1</span>] || <span class="hljs-number">0</span>;<br>    setting.<span class="hljs-property">lock</span> || $(<span class="hljs-string">&#x27;#coursetree&#x27;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-string">&#x27;[onclick*=void], [href*=void]&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        _self.<span class="hljs-title function_">getTeacherAjax</span>(courseId, classId, $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;id&#x27;</span>).<span class="hljs-title function_">slice</span>(<span class="hljs-number">3</span>));<br>    &#125;);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/ananas/modules/video/index.html&#x27;</span> &amp;&amp; setting.<span class="hljs-property">video</span>) &#123;<br>    <span class="hljs-keyword">if</span> (setting.<span class="hljs-property">review</span>) _self.<span class="hljs-property">greenligth</span> = <span class="hljs-title class_">Ext</span>.<span class="hljs-property">emptyFn</span>;<br>    <span class="hljs-title function_">checkPlayer</span>(_self.<span class="hljs-title function_">supportH5Video</span>());<br>    <span class="hljs-title function_">click_bo</span>();<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/work/doHomeWorkNew&#x27;</span> || url == <span class="hljs-string">&#x27;/api/work&#x27;</span> || url == <span class="hljs-string">&#x27;/work/addStudentWorkNewWeb&#x27;</span> || url == <span class="hljs-string">&#x27;/mooc2/work/dowork&#x27;</span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;进入答题界面！&quot;</span>);<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-variable constant_">UE</span>) &#123;<br>        <span class="hljs-keyword">var</span> len = ($ || <span class="hljs-title class_">Ext</span>.<span class="hljs-property">query</span> || <span class="hljs-title class_">Array</span>)(<span class="hljs-string">&#x27;font:contains(未登录)&#x27;</span>, <span class="hljs-variable language_">document</span>).<span class="hljs-property">length</span>;<br>        <span class="hljs-built_in">setTimeout</span>(len == <span class="hljs-number">1</span> ? top.<span class="hljs-property">location</span>.<span class="hljs-property">reload</span> : parent.<span class="hljs-property">greenligth</span>, setting.<span class="hljs-property">time</span>);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (setting.<span class="hljs-property">work</span>) &#123;<br>        <span class="hljs-built_in">setTimeout</span>(relieveLimit, <span class="hljs-number">0</span>);<br>        <span class="hljs-title function_">beforeFind</span>();<br>    &#125;<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/ananas/modules/audio/index.html&#x27;</span> &amp;&amp; setting.<span class="hljs-property">audio</span>) &#123;<br>    <span class="hljs-keyword">if</span> (setting.<span class="hljs-property">review</span>) _self.<span class="hljs-property">greenligth</span> = <span class="hljs-title class_">Ext</span>.<span class="hljs-property">emptyFn</span>;<br>    <span class="hljs-comment">// _self.videojs = hookAudio;</span><br>    _self.<span class="hljs-property">alert</span> = <span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>;<br>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">OriginPlayer</span> = _self.<span class="hljs-property">videojs</span>.<span class="hljs-title function_">getComponent</span>(<span class="hljs-string">&#x27;Player&#x27;</span>)<br>    <span class="hljs-keyword">let</span> woailiyinhe = <span class="hljs-keyword">function</span> (<span class="hljs-params">tag, options, ready</span>) &#123;<br>        <span class="hljs-keyword">var</span> config = options;<br>        config.<span class="hljs-property">plugins</span>.<span class="hljs-property">studyControl</span>.<span class="hljs-property">enableSwitchWindow</span> = <span class="hljs-number">1</span>;<br>        config.<span class="hljs-property">plugins</span>.<span class="hljs-property">seekBarControl</span>.<span class="hljs-property">enableFastForward</span> = <span class="hljs-number">1</span>;<br>        <span class="hljs-keyword">if</span> (!setting.<span class="hljs-property">queue</span>) <span class="hljs-keyword">delete</span> config.<span class="hljs-property">plugins</span>.<span class="hljs-property">studyControl</span>;<br>        <span class="hljs-keyword">let</span> player = <span class="hljs-title class_">OriginPlayer</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, tag, options, ready)<br>        <span class="hljs-keyword">var</span><br>        a = <span class="hljs-string">&#x27;&lt;a href=&quot;https://d0.ananas.chaoxing.com/download/&#x27;</span> + _self.<span class="hljs-title function_">config</span>(<span class="hljs-string">&#x27;objectid&#x27;</span>) + <span class="hljs-string">&#x27;&quot; target=&quot;_blank&quot;&gt;&#x27;</span>,<br>            img = <span class="hljs-string">&#x27;&lt;img src=&quot;https://d0.ananas.chaoxing.com/download/e363b256c0e9bc5bd8266bf99dd6d6bb&quot; style=&quot;margin: 6px 0 0 6px;&quot;&gt;&#x27;</span>;<br>        player.<span class="hljs-title function_">volume</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(setting.<span class="hljs-property">vol</span>) / <span class="hljs-number">100</span> || <span class="hljs-number">0</span>);<br>        player.<span class="hljs-title function_">playbackRate</span>(setting.<span class="hljs-property">rate</span> &gt; <span class="hljs-number">16</span> || setting.<span class="hljs-property">rate</span> &lt; <span class="hljs-number">0.0625</span> ? <span class="hljs-number">1</span> : setting.<span class="hljs-property">rate</span>);<br>        <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">get</span>(player.<span class="hljs-property">controlBar</span>.<span class="hljs-title function_">addChild</span>(<span class="hljs-string">&#x27;Button&#x27;</span>).<span class="hljs-property">el_</span>).<span class="hljs-title function_">setHTML</span>(a + img + <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>).<span class="hljs-property">dom</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;下载音频&#x27;</span>;<br>        player.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;loadeddata&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            setting.<span class="hljs-property">tip</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">play</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-title class_">Ext</span>.<span class="hljs-property">emptyFn</span>);<br>        &#125;);<br>        player.<span class="hljs-title function_">one</span>(<span class="hljs-string">&#x27;firstplay&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            setting.<span class="hljs-property">rate</span> === <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; config.<span class="hljs-property">plugins</span>.<span class="hljs-property">seekBarControl</span>.<span class="hljs-title function_">sendLog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">children_</span>[<span class="hljs-number">0</span>], <span class="hljs-string">&#x27;ended&#x27;</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache_</span>.<span class="hljs-property">duration</span>));<br>        &#125;);<br>        player.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;ended&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">fly</span>(frameElement).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">addCls</span>(<span class="hljs-string">&#x27;ans-job-finished&#x27;</span>);<br>        &#125;);<br>        <span class="hljs-keyword">return</span> player;<br>    &#125;<br>    woailiyinhe.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">OriginPlayer</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)<br>    _self.<span class="hljs-property">videojs</span>.<span class="hljs-title function_">getComponent</span>(<span class="hljs-string">&#x27;Component&#x27;</span>).<span class="hljs-property">components_</span>[<span class="hljs-string">&#x27;Player&#x27;</span>] = woailiyinhe<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/ananas/modules/innerbook/index.html&#x27;</span> &amp;&amp; setting.<span class="hljs-property">book</span> &amp;&amp; setting.<span class="hljs-property">tip</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        _self.<span class="hljs-property">setting</span> ? _self.<span class="hljs-property">top</span>.<span class="hljs-title function_">onchangepage</span>(_self.<span class="hljs-title function_">getFrameAttr</span>(<span class="hljs-string">&#x27;end&#x27;</span>)) : _self.<span class="hljs-title function_">greenligth</span>();<br>    &#125;, setting.<span class="hljs-property">time</span>);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^\/ananas\/modules\/(ppt|pdf)\/index\.html$/</span>) &amp;&amp; setting.<span class="hljs-property">docs</span> &amp;&amp; setting.<span class="hljs-property">tip</span>) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        _self.<span class="hljs-property">setting</span> ? _self.<span class="hljs-title function_">finishJob</span>() : _self.<span class="hljs-title function_">greenligth</span>();<br>    &#125;, setting.<span class="hljs-property">time</span>);<br>    frameElement.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;download&#x27;</span>, <span class="hljs-number">1</span>);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/knowledge/cards&#x27;</span>) &#123;<br>    $ &amp;&amp; <span class="hljs-title function_">checkToNext</span>();<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^\/(course|zt)\/\d+\.html$/</span>)) &#123;<br>    <span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        +setting.<span class="hljs-property">read</span> &amp;&amp; _self.<span class="hljs-property">sendLogs</span> &amp;&amp; $(<span class="hljs-string">&#x27;.course_section:eq(0) .chapterText&#x27;</span>).<span class="hljs-title function_">click</span>();<br>    &#125;, setting.<span class="hljs-property">time</span>);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/ztnodedetailcontroller/visitnodedetail&#x27;</span>) &#123;<br>    setting.<span class="hljs-property">read</span> *= <span class="hljs-number">60</span> / $(<span class="hljs-string">&#x27;.course_section&#x27;</span>).<span class="hljs-property">length</span>;<br>    setting.<span class="hljs-property">read</span> &amp;&amp; _self.<span class="hljs-property">sendLogs</span> &amp;&amp; <span class="hljs-title function_">autoRead</span>();<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/mycourse/studentcourse&#x27;</span>) &#123;<br>    <span class="hljs-keyword">var</span> gv = location.<span class="hljs-property">search</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/d=\d+&amp;/g</span>);<br>    setting.<span class="hljs-property">total</span> &amp;&amp; $(<span class="hljs-string">&#x27;&lt;a&gt;&#x27;</span>, &#123;<br>        <span class="hljs-attr">href</span>: <span class="hljs-string">&#x27;/moocAnalysis/chapterStatisticByUser?classI&#x27;</span> + gv[<span class="hljs-number">1</span>] + <span class="hljs-string">&#x27;courseI&#x27;</span> + gv[<span class="hljs-number">0</span>] + <span class="hljs-string">&#x27;userId=&#x27;</span> + _self.<span class="hljs-title function_">getCookie</span>(<span class="hljs-string">&#x27;_uid&#x27;</span>) + <span class="hljs-string">&#x27;&amp;ut=s&#x27;</span>,<br>        <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;_blank&#x27;</span>,<br>        <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;点击查看章节统计&#x27;</span>,<br>        <span class="hljs-attr">style</span>: <span class="hljs-string">&#x27;margin: 0 25px;color: #87CEFA;&#x27;</span>,<br>        <span class="hljs-attr">html</span>: <span class="hljs-string">&#x27;本课程共&#x27;</span> + $(<span class="hljs-string">&#x27;.icon&#x27;</span>).<span class="hljs-property">length</span> + <span class="hljs-string">&#x27;节，剩余&#x27;</span> + $(<span class="hljs-string">&#x27;em:not(.openlock)&#x27;</span>).<span class="hljs-property">length</span> + <span class="hljs-string">&#x27;节未完成&#x27;</span><br>    &#125;).<span class="hljs-title function_">appendTo</span>(<span class="hljs-string">&#x27;.charter&#x27;</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">width</span>(<span class="hljs-string">&#x27;auto&#x27;</span>);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^\/visit\/(courses|interaction)$/</span>)) &#123;<br>    setting.<span class="hljs-property">face</span> &amp;&amp; $(<span class="hljs-string">&#x27;.zmodel&#x27;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-string">&#x27;[onclick^=openFaceTip]&#x27;</span>, <span class="hljs-title class_">DisplayURL</span>);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (location.<span class="hljs-property">host</span>.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^passport2/</span>)) &#123;<br>    setting.<span class="hljs-property">username</span> &amp;&amp; <span class="hljs-title function_">getSchoolId</span>();<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (location.<span class="hljs-property">hostname</span> == <span class="hljs-string">&#x27;i.mooc.chaoxing.com&#x27;</span> || location.<span class="hljs-property">hostname</span> == <span class="hljs-string">&#x27;i.chaoxing.com&#x27;</span>) &#123;<br>    _self.<span class="hljs-property">layui</span>.<span class="hljs-title function_">use</span>(<span class="hljs-string">&#x27;layer&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">layer</span>.<span class="hljs-title function_">open</span>(&#123; <span class="hljs-attr">content</span>: <span class="hljs-string">&#x27;拖动进度条、倍速播放、秒过会导致不良记录！题库在慢慢补充，搜不到的题目系统会尽快进行自动补充&#x27;</span>, <span class="hljs-attr">title</span>: <span class="hljs-string">&#x27;超星网课助手提示&#x27;</span>, <span class="hljs-attr">btn</span>: <span class="hljs-string">&#x27;我已知悉&#x27;</span>, <span class="hljs-attr">offset</span>: <span class="hljs-string">&#x27;t&#x27;</span>, <span class="hljs-attr">closeBtn</span>: <span class="hljs-number">0</span> &#125;);<br>    &#125;);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/widget/pcvote/goStudentVotePage&#x27;</span>) &#123;<br>    $(<span class="hljs-string">&#x27;:checked&#x27;</span>).<span class="hljs-title function_">click</span>();<br>    $(<span class="hljs-string">&#x27;.StudentTimu&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) &#123;<br>        <span class="hljs-keyword">var</span> ans = _self.<span class="hljs-property">questionlist</span>[index].<span class="hljs-property">answer</span>;<br>        $(<span class="hljs-string">&#x27;:radio, :checkbox&#x27;</span>, <span class="hljs-variable language_">this</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">num</span>) &#123;<br>            ans[num].<span class="hljs-property">isanswer</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">click</span>();<br>        &#125;);<br>        $(<span class="hljs-string">&#x27;:text&#x27;</span>, <span class="hljs-variable language_">this</span>).<span class="hljs-title function_">val</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">num</span>) &#123;<br>            <span class="hljs-keyword">return</span> $(ans[num].<span class="hljs-property">content</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>();<br>        &#125;);<br>    &#125;);<br>&#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (url == <span class="hljs-string">&#x27;/work/selectWorkQuestionYiPiYue&#x27;</span>) &#123;<br>    <span class="hljs-title function_">submitAnswer</span>(<span class="hljs-title function_">getIframe</span>().<span class="hljs-title function_">parent</span>(), $.<span class="hljs-title function_">extend</span>(<span class="hljs-literal">true</span>, [], parent.<span class="hljs-property">_data</span>));<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getIframe</span>(<span class="hljs-params">tip, win, job</span>) &#123;<br>    <span class="hljs-keyword">if</span> (!$) <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">get</span>(frameElement || []).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">child</span>(<span class="hljs-string">&#x27;.ans-job-icon&#x27;</span>) || <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">get</span>([]);<br>    <span class="hljs-keyword">do</span> &#123;<br>        win = win ? win.<span class="hljs-property">parent</span> : _self;<br>        job = $(win.<span class="hljs-property">frameElement</span>).<span class="hljs-title function_">prevAll</span>(<span class="hljs-string">&#x27;.ans-job-icon&#x27;</span>);<br>    &#125; <span class="hljs-keyword">while</span> (!job.<span class="hljs-property">length</span> &amp;&amp; win.<span class="hljs-property">parent</span>.<span class="hljs-property">frameElement</span>);<br>    <span class="hljs-keyword">return</span> tip ? win : job;<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">jobSort</span>(<span class="hljs-params">$</span>) &#123;<br>    <span class="hljs-keyword">var</span> fn = $.fn ? [<span class="hljs-title function_">getIframe</span>(<span class="hljs-number">1</span>), <span class="hljs-string">&#x27;length&#x27;</span>] : [self, <span class="hljs-string">&#x27;dom&#x27;</span>],<br>        sel = setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;, :not(.ans-job-finished) &gt; .ans-job-icon&#x27;</span> + setting.<span class="hljs-property">normal</span> + <span class="hljs-string">&#x27; ~ &#x27;</span>);<br>    <span class="hljs-keyword">if</span> ($(sel, fn[<span class="hljs-number">0</span>].<span class="hljs-property">parent</span>.<span class="hljs-property">document</span>)[<span class="hljs-number">0</span>] == fn[<span class="hljs-number">0</span>].<span class="hljs-property">frameElement</span>) <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-title function_">getIframe</span>()[fn[<span class="hljs-number">1</span>]] || <span class="hljs-title function_">getIframe</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">is</span>(<span class="hljs-string">&#x27;.ans-job-finished&#x27;</span>)) <span class="hljs-keyword">return</span> <span class="hljs-literal">null</span>;<br>    <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        $(sel, fn[<span class="hljs-number">0</span>].<span class="hljs-property">parent</span>.<span class="hljs-property">document</span>)[<span class="hljs-number">0</span>] == fn[<span class="hljs-number">0</span>].<span class="hljs-property">frameElement</span> &amp;&amp; fn[<span class="hljs-number">0</span>].<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();<br>    &#125;, setting.<span class="hljs-property">time</span>);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">click_bo</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;没有写过这么垃圾的玩意......................................&quot;</span>);<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;疫情期间当志愿者没时间修复倍速,一倍速慢慢看&quot;</span>);<br>    <span class="hljs-keyword">var</span> interval=<span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#video &gt; button&quot;</span>))&#123;<br>            <span class="hljs-keyword">var</span> video=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;video_html5_api&quot;</span>);<br>            <span class="hljs-keyword">var</span> video_url=video.<span class="hljs-property">src</span>;<br>            <span class="hljs-keyword">var</span> suspend=<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#video &gt; div.vjs-control-bar &gt; button.vjs-play-control.vjs-control.vjs-button.vjs-paused&quot;</span>);<br>            <span class="hljs-keyword">if</span> (<span class="hljs-title function_">getIframe</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">is</span>(<span class="hljs-string">&#x27;.ans-job-finished&#x27;</span>))&#123;<br>                <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;播放完毕&quot;</span>);<br>                <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&quot;video_url&quot;</span>,<span class="hljs-number">0</span>);<br>                <span class="hljs-built_in">clearInterval</span>(interval);<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (suspend &amp;&amp;suspend.<span class="hljs-property">textContent</span>==<span class="hljs-string">&quot;播放&quot;</span>&amp;&amp;video_url==<span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&quot;video_url&quot;</span>))&#123;<br>                video.<span class="hljs-title function_">play</span>();<br>            &#125;<span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&quot;#video &gt; button&quot;</span>)&amp;&amp;<span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&quot;video_url&quot;</span>)==<span class="hljs-number">0</span>)&#123;<br>                video.<span class="hljs-title function_">play</span>();<br>                <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&quot;video_url&quot;</span>,video_url);<br>            &#125;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#video &gt; div &gt; div &gt; button[title=&quot;静音&quot;]&#x27;</span>)&amp;&amp;setting.<span class="hljs-property">vol</span>==<span class="hljs-string">&quot;0&quot;</span>) &#123;<br>                video.<span class="hljs-property">muted</span>=<span class="hljs-string">&quot;0&quot;</span>;<span class="hljs-comment">//不能点击，点击会有bug.......</span><br>            &#125;<br> <br>        &#125;<br>    &#125;, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">3000</span>) + <span class="hljs-number">500</span>);<br>&#125;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkPlayer</span>(<span class="hljs-params">tip</span>) &#123;<br>    <span class="hljs-comment">//代码抄的李恒道的，正在学习.....地址https://scriptcat.org/script-show-page/10/code</span><br>    _self.<span class="hljs-property">alert</span> = <span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>;<br>    <span class="hljs-keyword">let</span> <span class="hljs-title class_">OriginPlayer</span> = _self.<span class="hljs-property">videojs</span>.<span class="hljs-title function_">getComponent</span>(<span class="hljs-string">&#x27;Player&#x27;</span>)<br>    <span class="hljs-keyword">let</span> woailiyinhe = <span class="hljs-keyword">function</span> (<span class="hljs-params">tag, options, ready</span>) &#123;<br>        <span class="hljs-keyword">let</span> config = options<br>        <span class="hljs-keyword">if</span> (!config) &#123;<br>            <span class="hljs-keyword">return</span> options;<br>        &#125;<br>        <span class="hljs-keyword">var</span> line = <span class="hljs-title class_">Ext</span>.<span class="hljs-property">Array</span>.<span class="hljs-title function_">filter</span>(<span class="hljs-title class_">Ext</span>.<span class="hljs-property">Array</span>.<span class="hljs-title function_">map</span>(config.<span class="hljs-property">playlines</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">value, index</span>) &#123;<br>            <span class="hljs-keyword">return</span> value.<span class="hljs-property">label</span> == setting.<span class="hljs-property">line</span> &amp;&amp; index;<br>        &#125;), <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">isNumber</span>(value);<br>        &#125;)[<span class="hljs-number">0</span>] || <span class="hljs-number">0</span>,<br>            http = <span class="hljs-title class_">Ext</span>.<span class="hljs-property">Array</span>.<span class="hljs-title function_">filter</span>(config.<span class="hljs-property">sources</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>                <span class="hljs-keyword">return</span> value.<span class="hljs-property">label</span> == setting.<span class="hljs-property">http</span>;<br>            &#125;)[<span class="hljs-number">0</span>];<br>        config.<span class="hljs-property">playlines</span>.<span class="hljs-title function_">unshift</span>(config.<span class="hljs-property">playlines</span>[line]);<br>        config.<span class="hljs-property">playlines</span>.<span class="hljs-title function_">splice</span>(line + <span class="hljs-number">1</span>, <span class="hljs-number">1</span>);<br>        config.<span class="hljs-property">plugins</span>.<span class="hljs-property">videoJsResolutionSwitcher</span>.<span class="hljs-property">default</span> = http ? http.<span class="hljs-property">res</span> : <span class="hljs-number">360</span>;<br>        config.<span class="hljs-property">plugins</span>.<span class="hljs-property">studyControl</span>.<span class="hljs-property">enableSwitchWindow</span> = <span class="hljs-number">1</span>;<br>        config.<span class="hljs-property">plugins</span>.<span class="hljs-property">timelineObjects</span>.<span class="hljs-property">url</span> = <span class="hljs-string">&#x27;/richvideo/initdatawithviewer?&#x27;</span>;<br>        config.<span class="hljs-property">plugins</span>.<span class="hljs-property">seekBarControl</span>.<span class="hljs-property">enableFastForward</span> = <span class="hljs-number">1</span>;<br>        config.<span class="hljs-property">playbackRates</span> = [<span class="hljs-number">0.5</span>, <span class="hljs-number">1</span>, <span class="hljs-number">1.5</span>, <span class="hljs-number">2</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">16</span>];<br>        <span class="hljs-keyword">if</span> (!setting.<span class="hljs-property">queue</span>) <span class="hljs-keyword">delete</span> config.<span class="hljs-property">plugins</span>.<span class="hljs-property">studyControl</span>;<br>        <span class="hljs-keyword">let</span> player = <span class="hljs-title class_">OriginPlayer</span>.<span class="hljs-title function_">call</span>(<span class="hljs-variable language_">this</span>, tag, options, ready)<br>        <span class="hljs-keyword">var</span><br>        a = <span class="hljs-string">&#x27;&lt;a href=&quot;https://d0.ananas.chaoxing.com/download/&#x27;</span> + _self.<span class="hljs-title function_">config</span>(<span class="hljs-string">&#x27;objectid&#x27;</span>) + <span class="hljs-string">&#x27;&quot; target=&quot;_blank&quot;&gt;&#x27;</span>,<br>            img = <span class="hljs-string">&#x27;&lt;img src=&quot;https://d0.ananas.chaoxing.com/download/e363b256c0e9bc5bd8266bf99dd6d6bb&quot; style=&quot;margin: 6px 0 0 6px;&quot;&gt;&#x27;</span>;<br>        player.<span class="hljs-property">playbackRate</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params">t</span>) &#123; <span class="hljs-keyword">if</span> (<span class="hljs-keyword">void</span> <span class="hljs-number">0</span> === t) <span class="hljs-keyword">return</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tech_</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">tech_</span>.<span class="hljs-property">featuresPlaybackRate</span> ? <span class="hljs-variable language_">this</span>.<span class="hljs-property">cache_</span>.<span class="hljs-property">lastPlaybackRate</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">techGet_</span>(<span class="hljs-string">&quot;playbackRate&quot;</span>) : setting.<span class="hljs-property">rate</span>; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">techCall_</span>(<span class="hljs-string">&quot;setPlaybackRate&quot;</span>, t) &#125;;<br>        player.<span class="hljs-title function_">volume</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(setting.<span class="hljs-property">vol</span>) / <span class="hljs-number">100</span> || <span class="hljs-number">0</span>);<br>        <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">get</span>(player.<span class="hljs-property">controlBar</span>.<span class="hljs-title function_">addChild</span>(<span class="hljs-string">&#x27;Button&#x27;</span>).<span class="hljs-property">el_</span>).<span class="hljs-title function_">setHTML</span>(a + img + <span class="hljs-string">&#x27;&lt;/a&gt;&#x27;</span>).<span class="hljs-property">dom</span>.<span class="hljs-property">title</span> = <span class="hljs-string">&#x27;下载视频&#x27;</span>;<br>        player.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;loadstart&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            setting.<span class="hljs-property">tip</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">play</span>().<span class="hljs-title function_">catch</span>(<span class="hljs-title class_">Ext</span>.<span class="hljs-property">emptyFn</span>);<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">playbackRate</span>(setting.<span class="hljs-property">rate</span> &gt; <span class="hljs-number">16</span> || setting.<span class="hljs-property">rate</span> &lt; <span class="hljs-number">0.0625</span> ? <span class="hljs-number">1</span> : setting.<span class="hljs-property">rate</span>);<br>        &#125;);<br>        player.<span class="hljs-title function_">one</span>([<span class="hljs-string">&#x27;loadedmetadata&#x27;</span>, <span class="hljs-string">&#x27;firstplay&#x27;</span>], <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            setting.<span class="hljs-property">two</span> = setting.<span class="hljs-property">rate</span> === <span class="hljs-string">&#x27;0&#x27;</span> &amp;&amp; setting.<span class="hljs-property">two</span> &lt; <span class="hljs-number">1</span>;<br>            setting.<span class="hljs-property">two</span> &amp;&amp; config.<span class="hljs-property">plugins</span>.<span class="hljs-property">seekBarControl</span>.<span class="hljs-title function_">sendLog</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">children_</span>[<span class="hljs-number">0</span>], <span class="hljs-string">&#x27;ended&#x27;</span>, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">cache_</span>.<span class="hljs-property">duration</span>));<br>        &#125;);<br>        player.<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;ended&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">fly</span>(frameElement).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">addCls</span>(<span class="hljs-string">&#x27;ans-job-finished&#x27;</span>);<br>        &#125;);<br>        <span class="hljs-keyword">return</span> player;<br>    &#125;<br>    woailiyinhe.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span> = <span class="hljs-title class_">Object</span>.<span class="hljs-title function_">create</span>(<span class="hljs-title class_">OriginPlayer</span>.<span class="hljs-property"><span class="hljs-keyword">prototype</span></span>)<br>    _self.<span class="hljs-property">videojs</span>.<span class="hljs-title function_">getComponent</span>(<span class="hljs-string">&#x27;Component&#x27;</span>).<span class="hljs-property">components_</span>[<span class="hljs-string">&#x27;Player&#x27;</span>] = woailiyinhe<br>    <span class="hljs-title class_">Ext</span>.<span class="hljs-property">isSogou</span> = <span class="hljs-title class_">Ext</span>.<span class="hljs-property">isIos</span> = <span class="hljs-title class_">Ext</span>.<span class="hljs-property">isAndroid</span> = <span class="hljs-literal">false</span>;<br>    <span class="hljs-keyword">var</span> data = <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">decode</span>(_self.<span class="hljs-title function_">config</span>(<span class="hljs-string">&#x27;data&#x27;</span>)) || &#123;&#125;;<br>    <span class="hljs-keyword">delete</span> data.<span class="hljs-property">danmaku</span>;<br>    data.<span class="hljs-property">doublespeed</span> = <span class="hljs-number">1</span>;<br>    frameElement.<span class="hljs-title function_">setAttribute</span>(<span class="hljs-string">&#x27;data&#x27;</span>, <span class="hljs-title class_">Ext</span>.<span class="hljs-title function_">encode</span>(data));<br> <br> <br>    <span class="hljs-comment">//_self.videojs = hookVideo;</span><br>    <span class="hljs-keyword">if</span> (tip) <span class="hljs-keyword">return</span>;<br>    _self.<span class="hljs-property">supportH5Video</span> = <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123; <span class="hljs-keyword">return</span> <span class="hljs-literal">true</span>; &#125;;<br>    <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;此浏览器不支持html5播放器，请更换浏览器&#x27;</span>);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">hookVideo</span>(<span class="hljs-params"></span>) &#123;<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">relieveLimit</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-number">1221</span>);<br>    <span class="hljs-keyword">if</span> (setting.<span class="hljs-property">scale</span>) _self.<span class="hljs-property">UEDITOR_CONFIG</span>.<span class="hljs-property">scaleEnabled</span> = <span class="hljs-literal">false</span>;<br>    $.<span class="hljs-title function_">each</span>(<span class="hljs-variable constant_">UE</span>.<span class="hljs-property">instants</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> key = <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span>;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">ready</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">destroy</span>();<br>            <span class="hljs-variable constant_">UE</span>.<span class="hljs-title function_">getEditor</span>(key);<br>        &#125;);<br>    &#125;);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">beforeFind</span>(<span class="hljs-params"></span>) &#123;<br>    setting.<span class="hljs-property">regl</span> = parent.<span class="hljs-property">greenligth</span> || $.noop;<br>    <span class="hljs-keyword">if</span> ($.<span class="hljs-title function_">type</span>(parent.<span class="hljs-property">_data</span>) == <span class="hljs-string">&#x27;array&#x27;</span>) <span class="hljs-keyword">return</span> setting.<span class="hljs-title function_">regl</span>();<br>    <span class="hljs-keyword">var</span> maximize = $(<br>        <span class="hljs-string">&#x27;&lt;div style=&quot;border: 2px dashed rgb(0, 85, 68); position: fixed; top: 0; right: 0; z-index: 99999; background-color: rgba(184, 247, 255, 0.3); overflow-x: auto;display:none;&quot;&gt;◻&lt;/div&gt;&#x27;</span><br>    ).<span class="hljs-title function_">appendTo</span>(<span class="hljs-string">&#x27;body&#x27;</span>).<span class="hljs-title function_">click</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        $(setting.<span class="hljs-property">div</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&quot;display&quot;</span>, <span class="hljs-string">&quot;block&quot;</span>);<br>        <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&quot;minimize&quot;</span>, <span class="hljs-string">&quot;0&quot;</span>);<br>        $(maximize).<span class="hljs-title function_">css</span>(<span class="hljs-string">&quot;display&quot;</span>, <span class="hljs-string">&quot;none&quot;</span>);<br>    &#125;);<br> <br>    setting.<span class="hljs-property">div</span> = $(<br>        <span class="hljs-string">&#x27;&lt;div style=&quot;border: 2px dashed rgb(0, 85, 68); width: 330px; position: fixed; top: 0; right: 0; z-index: 99999; background-color: rgba(184, 247, 255, 0.3); overflow-x: auto;&quot;&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;span style=&quot;font-size: medium;&quot;&gt;&lt;/span&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;div style=&quot;font-size: medium;width:70%;display: inline-block;&quot;&gt;正在搜索答案...&lt;/div&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;div style=&quot;width:30%;display: inline-block;padding-right: 10px;box-sizing: border-box;text-align: right;&quot;&gt;&lt;minimize style=&quot;width:20px;font-size:16px;line-height: 12px;font-weight: bold;cursor: context-menu;user-select:none;&quot;&gt;一&lt;/minimize&gt;&lt;/div&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;div id=&quot;cx-notice&quot; style=&quot;border-top: 1px solid #000;border-bottom: 1px solid #000;margin: 4px 0px;overflow: hidden;&quot;&gt;&#x27;</span> + setting.<span class="hljs-property">notice</span> + <span class="hljs-string">&#x27;&lt;/div&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;button style=&quot;margin-right: 10px;&quot;&gt;暂停答题&lt;/button&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;button style=&quot;margin-right: 10px;&quot;&gt;&#x27;</span> + (setting.<span class="hljs-property">auto</span> ? <span class="hljs-string">&#x27;取消本次自动提交&#x27;</span> : <span class="hljs-string">&#x27;开启本次自动提交&#x27;</span>) + <span class="hljs-string">&#x27;&lt;/button&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;button style=&quot;margin-right: 10px;&quot;&gt;重新查询&lt;/button&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;button&gt;折叠面板&lt;/button&gt;&lt;br&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;input id=&quot;autosubmit&quot; type=&quot;checkbox&quot;&#x27;</span> + (setting.<span class="hljs-property">auto</span> ? <span class="hljs-string">&#x27; checked&#x27;</span> : <span class="hljs-string">&#x27;&#x27;</span>) + <span class="hljs-string">&#x27;&gt;自动提交&lt;/input&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;div style=&quot;max-height: 300px; overflow-y: auto;&quot;&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;table border=&quot;1&quot; style=&quot;font-size: 12px;&quot;&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;thead&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;tr&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;th style=&quot;width: 25px; min-width: 25px;&quot;&gt;题号&lt;/th&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;th style=&quot;width: 60%; min-width: 130px;&quot;&gt;题目（点击可复制）&lt;/th&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;th style=&quot;min-width: 130px;&quot;&gt;答案（点击可复制）&lt;/th&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/tr&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/thead&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;tfoot style=&quot;display: none;&quot;&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;tr&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;th colspan=&quot;3&quot;&gt;答案提示框 已折叠&lt;/th&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/tr&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/tfoot&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;tbody&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;tr&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;td colspan=&quot;3&quot; style=&quot;display: none;&quot;&gt;&lt;/td&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/tr&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/tbody&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/table&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/div&gt;&#x27;</span> +<br>        <span class="hljs-string">&#x27;&lt;/div&gt;&#x27;</span><br>    ).<span class="hljs-title function_">appendTo</span>(<span class="hljs-string">&#x27;body&#x27;</span>).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-string">&#x27;button, td, input&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> len = $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">prevAll</span>(<span class="hljs-string">&#x27;button&#x27;</span>).<span class="hljs-property">length</span>;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">nodeName</span> == <span class="hljs-string">&#x27;TD&#x27;</span>) &#123;<br>            $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">prev</span>().<span class="hljs-property">length</span> &amp;&amp; <span class="hljs-title function_">GM_setClipboard</span>($(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">text</span>());<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!$(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">siblings</span>().<span class="hljs-property">length</span>) &#123;<br>            $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;正在搜索答案...&#x27;</span>);<br>            setting.<span class="hljs-property">num</span>++;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len === <span class="hljs-number">0</span>) &#123;<br>            <span class="hljs-keyword">if</span> (setting.<span class="hljs-property">loop</span>) &#123;<br>                <span class="hljs-built_in">clearInterval</span>(setting.<span class="hljs-property">loop</span>);<br>                <span class="hljs-keyword">delete</span> setting.<span class="hljs-property">loop</span>;<br>                len = [<span class="hljs-string">&#x27;已暂停搜索&#x27;</span>, <span class="hljs-string">&#x27;继续答题&#x27;</span>];<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                setting.<span class="hljs-property">loop</span> = <span class="hljs-built_in">setInterval</span>(findAnswer, setting.<span class="hljs-property">time</span>);<br>                len = [<span class="hljs-string">&#x27;正在搜索答案...&#x27;</span>, <span class="hljs-string">&#x27;暂停答题&#x27;</span>];<br>            &#125;<br>            setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                <span class="hljs-keyword">return</span> $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">data</span>(<span class="hljs-string">&#x27;html&#x27;</span>) || len[<span class="hljs-number">0</span>];<br>            &#125;).<span class="hljs-title function_">removeData</span>(<span class="hljs-string">&#x27;html&#x27;</span>);<br>            $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">html</span>(len[<span class="hljs-number">1</span>]);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len == <span class="hljs-number">1</span>) &#123;<br>            setting.<span class="hljs-property">auto</span> = !setting.<span class="hljs-property">auto</span>;<br>            $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">html</span>(setting.<span class="hljs-property">auto</span> ? <span class="hljs-string">&#x27;取消本次自动提交&#x27;</span> : <span class="hljs-string">&#x27;开启本次自动提交&#x27;</span>);<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len == <span class="hljs-number">2</span>) &#123;<br>            parent.<span class="hljs-property">location</span>.<span class="hljs-title function_">reload</span>();<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (len == <span class="hljs-number">3</span>) &#123;<br>            setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;tbody, tfoot&#x27;</span>).<span class="hljs-title function_">toggle</span>();<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">id</span> == <span class="hljs-string">&quot;autosubmit&quot;</span>) &#123;<br>            <span class="hljs-comment">// 题目自动提交配置</span><br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span>);<br>            <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&quot;autosubmit&quot;</span>, <span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span>);<br>        &#125;<br>    &#125;).<span class="hljs-title function_">on</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-string">&#x27;minimize&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">parent</span>().<span class="hljs-title function_">css</span>(<span class="hljs-string">&quot;display&quot;</span>, <span class="hljs-string">&quot;none&quot;</span>);<br>        <span class="hljs-title function_">GM_setValue</span>(<span class="hljs-string">&quot;minimize&quot;</span>, <span class="hljs-string">&quot;1&quot;</span>);<br>        $(maximize).<span class="hljs-title function_">css</span>(<span class="hljs-string">&quot;display&quot;</span>, <span class="hljs-string">&quot;block&quot;</span>);<br>    &#125;).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;table, td, th&#x27;</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;border&#x27;</span>, <span class="hljs-string">&#x27;1px solid&#x27;</span>).<span class="hljs-title function_">end</span>();<br> <br>    <span class="hljs-keyword">if</span> (<span class="hljs-title function_">GM_getValue</span>(<span class="hljs-string">&quot;minimize&quot;</span>) == <span class="hljs-string">&quot;1&quot;</span>) &#123;<br>        $(setting.<span class="hljs-property">div</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&quot;display&quot;</span>, <span class="hljs-string">&quot;none&quot;</span>);<br>        $(maximize).<span class="hljs-title function_">css</span>(<span class="hljs-string">&quot;display&quot;</span>, <span class="hljs-string">&quot;block&quot;</span>);<br>    &#125;<br> <br>    setting.<span class="hljs-property">lose</span> = setting.<span class="hljs-property">num</span> = <span class="hljs-number">0</span>;<br>    setting.<span class="hljs-property">data</span> = parent.<span class="hljs-property">_data</span> = [];<br>    setting.<span class="hljs-property">over</span> = <span class="hljs-string">&#x27;&lt;button style=&quot;margin-right: 10px;&quot;&gt;跳过此题&lt;/button&gt;&#x27;</span>;<br>    setting.<span class="hljs-property">curs</span> = $(<span class="hljs-string">&#x27;script:contains(courseName)&#x27;</span>, top.<span class="hljs-property">document</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/courseName:\&#x27;(.+?)\&#x27;|$/</span>)[<span class="hljs-number">1</span>] || $(<span class="hljs-string">&#x27;h1&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>() || <span class="hljs-string">&#x27;无&#x27;</span>;<br>    setting.<span class="hljs-property">loop</span> = <span class="hljs-built_in">setInterval</span>(findAnswer, setting.<span class="hljs-property">time</span>);<br>    <span class="hljs-keyword">var</span> tip = (&#123; <span class="hljs-attr">undefined</span>: <span class="hljs-string">&#x27;任务点排队中&#x27;</span>, <span class="hljs-attr">null</span>: <span class="hljs-string">&#x27;等待切换中&#x27;</span> &#125;)[setting.<span class="hljs-property">tip</span>];<br>    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">&#x27;.ZyTop&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/待做/</span>))&#123;<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        tip &amp;&amp; setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">data</span>(<span class="hljs-string">&#x27;html&#x27;</span>, tip).<span class="hljs-title function_">siblings</span>(<span class="hljs-string">&#x27;button:eq(0)&#x27;</span>).<span class="hljs-title function_">click</span>();<br>    &#125;<br>    <span class="hljs-title function_">GM_xmlhttpRequest</span>(&#123;<br>        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,<br>        <span class="hljs-attr">url</span>: apihost + <span class="hljs-string">&#x27;/cxtimu/notice&#x27;</span>,<br>        <span class="hljs-attr">timeout</span>: setting.<span class="hljs-property">time</span>,<br>        <span class="hljs-attr">onload</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">xhr</span>) &#123;<br>            <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> == <span class="hljs-number">200</span>) &#123;<br>                <span class="hljs-keyword">var</span> obj = $.<span class="hljs-title function_">parseJSON</span>(xhr.<span class="hljs-property">responseText</span>) || &#123;&#125;;<br>                setting.<span class="hljs-property">notice</span> = obj.<span class="hljs-property">injection</span>;<br>                <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">querySelector</span>(<span class="hljs-string">&#x27;#cx-notice&#x27;</span>).<span class="hljs-property">innerHTML</span> = setting.<span class="hljs-property">notice</span>;<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">ontimeout</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            setting.<span class="hljs-property">loop</span> &amp;&amp; setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(setting.<span class="hljs-property">over</span> + <span class="hljs-string">&#x27;服务器超时，正在重试.....可以自行替换服务器，在代码的72行左右&#x27;</span>);<br>        &#125;<br>    &#125;);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">findAnswer</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> html=<span class="hljs-string">&quot;&quot;</span>;<br>    html = $(<span class="hljs-string">&quot;.CeYan&quot;</span>).<span class="hljs-title function_">html</span>()||$(<span class="hljs-string">&quot;body&quot;</span>).<span class="hljs-title function_">html</span>();<br>    <span class="hljs-keyword">if</span> (setting.<span class="hljs-property">num</span> &gt;= $(<span class="hljs-string">&#x27;.TiMu&#x27;</span>).<span class="hljs-property">length</span>) &#123;<br>        <span class="hljs-keyword">var</span> arr = setting.<span class="hljs-property">lose</span> ? [<span class="hljs-string">&#x27;共有 &lt;font color=&quot;red&quot;&gt;&#x27;</span> + setting.<span class="hljs-property">lose</span> + <span class="hljs-string">&#x27;&lt;/font&gt; 道题目待完善（已深色标注）&#x27;</span>, saveThis] : [<span class="hljs-string">&#x27;答题已完成&#x27;</span>, submitThis];<br>        setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">data</span>(<span class="hljs-string">&#x27;html&#x27;</span>, arr[<span class="hljs-number">0</span>]).<span class="hljs-title function_">siblings</span>(<span class="hljs-string">&#x27;button:eq(0)&#x27;</span>).<span class="hljs-title function_">hide</span>().<span class="hljs-title function_">click</span>();<br>        <span class="hljs-keyword">return</span> <span class="hljs-built_in">setTimeout</span>(arr[<span class="hljs-number">1</span>], setting.<span class="hljs-property">time</span>);<br>    &#125;<br>    <span class="hljs-keyword">var</span> $TiMu = $(<span class="hljs-string">&#x27;.TiMu&#x27;</span>).<span class="hljs-title function_">eq</span>(setting.<span class="hljs-property">num</span>),<br>        question = <span class="hljs-title function_">filterImg</span>($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Zy_TItle:eq(0) .clearfix&#x27;</span>)).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^【.*?】\s*/</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/\s*（\d+\.\d+分）$/</span>, <span class="hljs-string">&#x27;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^\d+[\.、]/</span>, <span class="hljs-string">&#x27;&#x27;</span>),<br>        type = $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;input[name^=answertype]:eq(0)&#x27;</span>).<span class="hljs-title function_">val</span>() || <span class="hljs-string">&#x27;-1&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>($TiMu);<br> <br>    <span class="hljs-keyword">if</span> (question == <span class="hljs-string">&quot;&quot;</span>) &#123;<br>        question = <span class="hljs-title function_">filterImg</span>($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.mark_name:eq(0) .colorDeep&#x27;</span>));<br>    &#125;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.mark_name:eq(0) .colorDeep&#x27;</span>));<br>    <span class="hljs-comment">// 问题后追加取出的选项 20220211</span><br>    <span class="hljs-keyword">var</span> selectlis = $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;.Zy_ulTop&gt;li&quot;</span>);<br>    <span class="hljs-keyword">var</span> selectstr = <span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">if</span>(selectlis.<span class="hljs-property">length</span>&gt;<span class="hljs-number">2</span>)&#123;<br>        selectlis.<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">i,item</span>)&#123;<br>            <span class="hljs-comment">//selectstr += &quot; &quot; + $(item).text().replace(/\s+/g,&#x27;&#x27;);</span><br>            <span class="hljs-keyword">var</span> _self = $(item);<br>            <span class="hljs-comment">//filterImg( _self.find(&quot;a.after&quot;)).trim()</span><br>            selectstr += _self.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;label.before&quot;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>() + <span class="hljs-string">&quot;、&quot;</span> + <span class="hljs-title function_">filterImg</span>( _self.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;a.after&quot;</span>)).<span class="hljs-title function_">trim</span>()+<span class="hljs-string">&quot;\n&quot;</span>;<br>        &#125;)<br>        <span class="hljs-comment">//console.log(selectstr);</span><br>    &#125;<br>    <span class="hljs-comment">//question += selectstr;</span><br>    <span class="hljs-keyword">var</span> options=selectstr.<span class="hljs-title function_">trim</span>();<br>    <span class="hljs-comment">// end 问题后追加取出的选项</span><br>    <span class="hljs-comment">// 该问题的ansertype</span><br>    <span class="hljs-keyword">var</span> ansertype = $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;input[name^=answertype]:eq(0)&#x27;</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;id&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-string">&quot;answertype&quot;</span>,<span class="hljs-string">&quot;&quot;</span>)||<span class="hljs-number">0</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(ansertype);<br>    <span class="hljs-comment">// end 该问题的ansertype</span><br>    <span class="hljs-keyword">var</span> course = $(<span class="hljs-string">&#x27;script:contains(courseName)&#x27;</span>, top.<span class="hljs-property">document</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/courseName:\&#x27;(.+?)\&#x27;|$/</span>)[<span class="hljs-number">1</span>] || $(<span class="hljs-string">&#x27;h1&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(.*)课程评价/</span>,<span class="hljs-string">&#x27;$1&#x27;</span>).<span class="hljs-title function_">trim</span>() || <span class="hljs-string">&#x27;无&#x27;</span>;<br>    <span class="hljs-title function_">GM_xmlhttpRequest</span>(&#123;<br>        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>        <span class="hljs-attr">url</span>: apihost + <span class="hljs-string">&#x27;/temporary_sea&#x27;</span>,<br>        <span class="hljs-attr">headers</span>: &#123;<br>            <span class="hljs-string">&#x27;Content-type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>,<br>        &#125;,<br>        <span class="hljs-attr">data</span>: <span class="hljs-string">&#x27;question=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(question)+<span class="hljs-string">&#x27;&amp;options=&#x27;</span>+<span class="hljs-built_in">encodeURIComponent</span>(options) + <span class="hljs-string">&#x27;&amp;cx_id=&#x27;</span> + ansertype+ <span class="hljs-string">&#x27;&amp;html=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>($TiMu.<span class="hljs-title function_">html</span>())+ <span class="hljs-string">&#x27;&amp;url=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(top.<span class="hljs-property">document</span>.<span class="hljs-property">URL</span>)+<span class="hljs-string">&#x27;&amp;course=&#x27;</span>+<span class="hljs-built_in">encodeURIComponent</span>(course)+<span class="hljs-string">&#x27;&amp;version=8.0.13&#x27;</span>,<br>        <span class="hljs-attr">timeout</span>: setting.<span class="hljs-property">time</span>,<br>        <span class="hljs-attr">onload</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">xhr</span>) &#123;<br>            <span class="hljs-keyword">if</span> (!setting.<span class="hljs-property">loop</span>) &#123;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> == <span class="hljs-number">200</span>) &#123;<br>                <span class="hljs-keyword">var</span> obj = $.<span class="hljs-title function_">parseJSON</span>(xhr.<span class="hljs-property">responseText</span>) || &#123;&#125;;<br>                obj.<span class="hljs-property">answer</span> = obj.<span class="hljs-property">data</span>;<br>                <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">code</span>) &#123;<br>                    setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;正在搜索答案...&#x27;</span>);<br>                    <span class="hljs-keyword">var</span> td = <span class="hljs-string">&#x27;&lt;td style=&quot;border: 1px solid;&#x27;</span>,<br>                        answer = <span class="hljs-title class_">String</span>(obj.<span class="hljs-property">answer</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">&#x27;&amp;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;(?!img)/g</span>, <span class="hljs-string">&#x27;&lt;&#x27;</span>);<br>                    obj.<span class="hljs-property">answer</span> = <span class="hljs-regexp">/^http/</span>.<span class="hljs-title function_">test</span>(answer) ? <span class="hljs-string">&#x27;&lt;img src=&quot;&#x27;</span> + obj.<span class="hljs-property">answer</span> + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span> : obj.<span class="hljs-property">answer</span>;<br>                    $(<br>                        <span class="hljs-string">&#x27;&lt;tr&gt;&#x27;</span> +<br>                        td + <span class="hljs-string">&#x27; text-align: center;&quot;&gt;&#x27;</span> + $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Zy_TItle:eq(0) i&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>() + <span class="hljs-string">&#x27;&lt;/td&gt;&#x27;</span> +<br>                        td + <span class="hljs-string">&#x27;&quot; title=&quot;点击可复制&quot;&gt;&#x27;</span> + (question.<span class="hljs-title function_">match</span>(<span class="hljs-string">&#x27;&lt;img&#x27;</span>) ? question : question.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&amp;/g</span>, <span class="hljs-string">&#x27;&amp;&#x27;</span>).<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/&lt;/g</span>, <span class="hljs-string">&#x27;&lt;&#x27;</span>))+<span class="hljs-string">&#x27;&lt;br&gt;&#x27;</span>+options+<span class="hljs-string">&#x27;&lt;br&gt;&lt;/td&gt;&#x27;</span> +<br>                        td + <span class="hljs-string">&#x27;&quot; title=&quot;点击可复制&quot;&gt;&#x27;</span> + (<span class="hljs-regexp">/^http/</span>.<span class="hljs-title function_">test</span>(answer) ? obj.<span class="hljs-property">answer</span> : <span class="hljs-string">&#x27;&#x27;</span>) + answer + <span class="hljs-string">&#x27;&lt;/td&gt;&#x27;</span> +<br>                        <span class="hljs-string">&#x27;&lt;/tr&gt;&#x27;</span><br>                    ).<span class="hljs-title function_">appendTo</span>(setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;tbody&#x27;</span>)).<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;background-color&#x27;</span>, <span class="hljs-title function_">fillAnswer</span>($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;ul:eq(0)&#x27;</span>).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;li&#x27;</span>), obj, type) ? <span class="hljs-string">&#x27;&#x27;</span> : <span class="hljs-string">&#x27;rgba(0, 150, 136, 0.6)&#x27;</span>);<br>                    setting.<span class="hljs-property">data</span>[setting.<span class="hljs-property">num</span>++] = &#123;<br>                        <span class="hljs-attr">code</span>: obj.<span class="hljs-property">code</span> &gt; <span class="hljs-number">0</span> ? <span class="hljs-number">1</span> : <span class="hljs-number">0</span>,<br>                        <span class="hljs-attr">question</span>: question,<br>                        <span class="hljs-attr">option</span>: obj.<span class="hljs-property">answer</span>,<br>                        <span class="hljs-attr">type</span>: <span class="hljs-title class_">Number</span>(type)<br>                    &#125;;<br>                &#125; <span class="hljs-keyword">else</span> &#123;<br>                    setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(obj.<span class="hljs-property">answer</span> || setting.<span class="hljs-property">over</span> + <span class="hljs-string">&#x27;服务器繁忙，正在重试...&#x27;</span>);<br>                &#125;<br>                setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;span&#x27;</span>).<span class="hljs-title function_">html</span>(obj.<span class="hljs-property">msg</span> || <span class="hljs-string">&#x27;&#x27;</span>);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> == <span class="hljs-number">403</span>) &#123;<br>                <span class="hljs-keyword">var</span> html = xhr.<span class="hljs-property">responseText</span>.<span class="hljs-title function_">indexOf</span>(<span class="hljs-string">&#x27;&#123;&#x27;</span>) ? <span class="hljs-string">&#x27;请求过于频繁，请稍后再试&#x27;</span> : $.<span class="hljs-title function_">parseJSON</span>(xhr.<span class="hljs-property">responseText</span>).<span class="hljs-property">data</span>;<br>                setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">data</span>(<span class="hljs-string">&#x27;html&#x27;</span>, html).<span class="hljs-title function_">siblings</span>(<span class="hljs-string">&#x27;button:eq(0)&#x27;</span>).<span class="hljs-title function_">click</span>();<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> == <span class="hljs-number">500</span>) &#123;<br>                setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;题库程序异常,请过一会再试&#x27;</span>);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (xhr.<span class="hljs-property">status</span> == <span class="hljs-number">444</span>) &#123;<br>                setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;IP异常，已被拉入服务器黑名单，请过几个小时再试&#x27;</span>);<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(<span class="hljs-string">&#x27;题库异常,可能被恶意攻击了...请等待恢复&#x27;</span>);<br>            &#125;<br>        &#125;,<br>        <span class="hljs-attr">ontimeout</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>            setting.<span class="hljs-property">loop</span> &amp;&amp; setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;div:eq(0)&#x27;</span>).<span class="hljs-title function_">html</span>(setting.<span class="hljs-property">over</span> + <span class="hljs-string">&#x27;服务器超时，正在重试...&#x27;</span>);<br>        &#125;<br>    &#125;);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">fillAnswer</span>(<span class="hljs-params">$li, obj, type</span>) &#123;<br>    <span class="hljs-keyword">var</span> $input = $li.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;:radio, :checkbox&#x27;</span>),<br>        str = <span class="hljs-title class_">String</span>(obj.<span class="hljs-property">answer</span>).<span class="hljs-title function_">toCDB</span>() || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toString</span>(),<br>        data = str.<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/#|\x01|\|/</span>),<br>        opt = obj.<span class="hljs-property">opt</span> || str,<br>        state = setting.<span class="hljs-property">lose</span>;<br>    <span class="hljs-comment">// $li.find(&#x27;:radio:checked&#x27;).prop(&#x27;checked&#x27;, false);</span><br>    obj.<span class="hljs-property">code</span> &gt; <span class="hljs-number">0</span> &amp;&amp; $input.<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) &#123;<br>        <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> == <span class="hljs-string">&#x27;true&#x27;</span>) &#123;<br>            data.<span class="hljs-title function_">join</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(^|,)(正确|是|对|√|T|true|ri)(,|$)/</span>) &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">click</span>();<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span> == <span class="hljs-string">&#x27;false&#x27;</span>) &#123;<br>            data.<span class="hljs-title function_">join</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/(^|,)(错误|否|错|×|F|false|X|wr)(,|$)/</span>) &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">click</span>();<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">var</span> tip = <span class="hljs-title function_">filterImg</span>($li.<span class="hljs-title function_">eq</span>(index).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.after&#x27;</span>)).<span class="hljs-title function_">toCDB</span>() || <span class="hljs-keyword">new</span> <span class="hljs-title class_">Date</span>().<span class="hljs-title function_">toString</span>();<br>            <span class="hljs-title class_">Boolean</span>($.<span class="hljs-title function_">inArray</span>(tip, data) + <span class="hljs-number">1</span> || (type == <span class="hljs-string">&#x27;1&#x27;</span> &amp;&amp; str.<span class="hljs-title function_">indexOf</span>(tip) + <span class="hljs-number">1</span>)) == <span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">click</span>();<br>        &#125;<br>    &#125;).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">if</span> (!<span class="hljs-regexp">/^A?B?C?D?E?F?G?$/</span>.<span class="hljs-title function_">test</span>(opt)) <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        <span class="hljs-title class_">Boolean</span>(opt.<span class="hljs-title function_">match</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">value</span>)) == <span class="hljs-variable language_">this</span>.<span class="hljs-property">checked</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">click</span>();<br>    &#125;);<br>    <span class="hljs-keyword">if</span> (type.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^[013]$/</span>)) &#123;<br>        $input.<span class="hljs-title function_">is</span>(<span class="hljs-string">&#x27;:checked&#x27;</span>) || (setting.<span class="hljs-property">none</span> ? ($input[<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">floor</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * $input.<span class="hljs-property">length</span>)] || $()).<span class="hljs-title function_">click</span>() : setting.<span class="hljs-property">lose</span>++);<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (type.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^(2|[4-9]|1[08])$/</span>)) &#123;<br>        data = <span class="hljs-title class_">String</span>(obj.<span class="hljs-property">answer</span>).<span class="hljs-title function_">split</span>(<span class="hljs-regexp">/#|\x01|\|/</span>);<br>        str = $li.<span class="hljs-title function_">end</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;textarea&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) &#123;<br>            index = (obj.<span class="hljs-property">code</span> &gt; <span class="hljs-number">0</span> &amp;&amp; data[index]) || <span class="hljs-string">&#x27;&#x27;</span>;<br>            <span class="hljs-keyword">if</span> (obj.<span class="hljs-property">code</span> &gt; <span class="hljs-number">0</span>) &#123;<br>                <span class="hljs-variable constant_">UE</span>.<span class="hljs-title function_">getEditor</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">name</span>).<span class="hljs-title function_">setContent</span>(index.<span class="hljs-title function_">trim</span>());<br>            &#125;<br>        &#125;).<span class="hljs-property">length</span>;<br>        (obj.<span class="hljs-property">code</span> &gt; <span class="hljs-number">0</span> &amp;&amp; data.<span class="hljs-property">length</span> == str) || setting.<span class="hljs-property">none</span> || setting.<span class="hljs-property">lose</span>++;<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        setting.<span class="hljs-property">none</span> || setting.<span class="hljs-property">lose</span>++;<br>    &#125;<br>    <span class="hljs-keyword">return</span> state == setting.<span class="hljs-property">lose</span>;<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">saveThis</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (!setting.<span class="hljs-property">auto</span>) <span class="hljs-keyword">return</span> <span class="hljs-built_in">setTimeout</span>(saveThis, setting.<span class="hljs-property">time</span>);<br>    setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;button:lt(3)&#x27;</span>).<span class="hljs-title function_">hide</span>().<span class="hljs-title function_">eq</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">click</span>();<br>    _self.<span class="hljs-property">alert</span> = <span class="hljs-variable language_">console</span>.<span class="hljs-property">log</span>;<br>    $(<span class="hljs-string">&#x27;#tempsave&#x27;</span>).<span class="hljs-title function_">click</span>();<br>    setting.<span class="hljs-title function_">regl</span>();<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">submitThis</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">if</span> (!setting.<span class="hljs-property">auto</span>) &#123;<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!$(<span class="hljs-string">&#x27;.Btn_blue_1:visible&#x27;</span>).<span class="hljs-property">length</span>) &#123;<br>        setting.<span class="hljs-property">div</span>.<span class="hljs-title function_">children</span>(<span class="hljs-string">&#x27;button:lt(3)&#x27;</span>).<span class="hljs-title function_">hide</span>().<span class="hljs-title function_">eq</span>(<span class="hljs-number">1</span>).<span class="hljs-title function_">click</span>();<br>        <span class="hljs-keyword">return</span> setting.<span class="hljs-title function_">regl</span>();<br>    &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($(<span class="hljs-string">&#x27;#confirmSubWin:visible&#x27;</span>).<span class="hljs-property">length</span>) &#123;<br>        <span class="hljs-keyword">var</span> btn = $(<span class="hljs-string">&#x27;#tipContent + * &gt; a&#x27;</span>).<span class="hljs-title function_">offset</span>() || &#123; <span class="hljs-attr">top</span>: <span class="hljs-number">0</span>, <span class="hljs-attr">left</span>: <span class="hljs-number">0</span> &#125;,<br>            mouse = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createEvent</span>(<span class="hljs-string">&#x27;MouseEvents&#x27;</span>);<br>        btn = [btn.<span class="hljs-property">left</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">46</span>), btn.<span class="hljs-property">top</span> + <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(<span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>() * <span class="hljs-number">26</span>)];<br>        mouse.<span class="hljs-title function_">initMouseEvent</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-literal">true</span>, <span class="hljs-literal">true</span>, <span class="hljs-variable language_">document</span>.<span class="hljs-property">defaultView</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, <span class="hljs-number">0</span>, btn[<span class="hljs-number">0</span>], btn[<span class="hljs-number">1</span>], <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-literal">false</span>, <span class="hljs-number">0</span>, <span class="hljs-literal">null</span>);<br>        _self.<span class="hljs-property">event</span> = $.<span class="hljs-title function_">extend</span>(<span class="hljs-literal">true</span>, &#123;&#125;, mouse);<br>        <span class="hljs-keyword">delete</span> _self.<span class="hljs-property">event</span>.<span class="hljs-property">isTrusted</span>;<br>        _self.<span class="hljs-title function_">form1submit</span>();<br>    &#125; <span class="hljs-keyword">else</span> &#123;<br>        $(<span class="hljs-string">&#x27;.Btn_blue_1&#x27;</span>)[<span class="hljs-number">0</span>].<span class="hljs-title function_">click</span>();<br>    &#125;<br>    <span class="hljs-built_in">setTimeout</span>(submitThis, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">ceil</span>(setting.<span class="hljs-property">time</span> * <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">random</span>()) * <span class="hljs-number">2</span>);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">checkToNext</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> $tip = $(setting.<span class="hljs-property">job</span>.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;, &#x27;</span>), <span class="hljs-variable language_">document</span>).<span class="hljs-title function_">prevAll</span>(<span class="hljs-string">&#x27;.ans-job-icon&#x27;</span> + setting.<span class="hljs-property">normal</span>);<br>    <span class="hljs-built_in">setInterval</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        $tip.<span class="hljs-title function_">parent</span>(<span class="hljs-string">&#x27;:not(.ans-job-finished)&#x27;</span>).<span class="hljs-property">length</span> || setting.<span class="hljs-property">jump</span> &amp;&amp; <span class="hljs-title function_">toNext</span>();<br>    &#125;, setting.<span class="hljs-property">time</span>);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">toNext</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> $cur = $(<span class="hljs-string">&#x27;#cur&#x27;</span> + $(<span class="hljs-string">&#x27;#chapterIdid&#x27;</span>).<span class="hljs-title function_">val</span>()),<br>        $tip = $(<span class="hljs-string">&#x27;span.currents ~ span&#x27;</span>),<br>        sel = setting.<span class="hljs-property">review</span> ? <span class="hljs-string">&#x27;html&#x27;</span> : <span class="hljs-string">&#x27;.blue&#x27;</span>;<br>    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;tonext&quot;</span>);<br>    <span class="hljs-keyword">if</span> (!$cur.<span class="hljs-title function_">has</span>(sel).<span class="hljs-property">length</span> &amp;&amp; $tip.<span class="hljs-property">length</span>) <span class="hljs-keyword">return</span> $tip.<span class="hljs-title function_">eq</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">click</span>();<br>    $tip = $(<span class="hljs-string">&#x27;.roundpointStudent, .roundpoint&#x27;</span>).<span class="hljs-title function_">parent</span>();<br>    $tip = $tip.<span class="hljs-title function_">slice</span>($tip.<span class="hljs-title function_">index</span>($cur) + <span class="hljs-number">1</span>).<span class="hljs-title function_">not</span>(<span class="hljs-string">&#x27;:has(&#x27;</span> + sel + <span class="hljs-string">&#x27;)&#x27;</span>);<br>    $tip.<span class="hljs-title function_">not</span>(setting.<span class="hljs-property">lock</span> ? <span class="hljs-string">&#x27;:has(.lock)&#x27;</span> : <span class="hljs-string">&#x27;html&#x27;</span>).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;span&#x27;</span>).<span class="hljs-title function_">eq</span>(<span class="hljs-number">0</span>).<span class="hljs-title function_">click</span>();<br>    $tip.<span class="hljs-property">length</span> || setting.<span class="hljs-property">course</span> &amp;&amp; <span class="hljs-title function_">switchCourse</span>();<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">switchCourse</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-comment">//$(&#x27;#right&#x27;).click()</span><br>    <span class="hljs-comment">//$(&#x27;#right2&#x27;).click()</span><br>    <span class="hljs-keyword">var</span> move_switch=<span class="hljs-literal">false</span>;<br>    $(<span class="hljs-string">&#x27;.orientationright&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">if</span> ($(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">css</span>(<span class="hljs-string">&#x27;display&#x27;</span>)==<span class="hljs-string">&#x27;block&#x27;</span>)&#123;<br>            move_switch=<span class="hljs-literal">true</span>;<br>            $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">click</span>();<br>            <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;点击按钮下一章&quot;</span>);<br>        &#125;<br>    &#125;)<br>    <span class="hljs-keyword">if</span> (move_switch==<span class="hljs-literal">false</span>)&#123;<br>        <span class="hljs-title function_">GM_xmlhttpRequest</span>(&#123;<br>            <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,<br>            <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/visit/courses/study?isAjax=true&amp;fileId=0&amp;debug=&#x27;</span>,<br>            <span class="hljs-attr">headers</span>: &#123;<br>                <span class="hljs-string">&#x27;Referer&#x27;</span>: location.<span class="hljs-property">origin</span> + <span class="hljs-string">&#x27;/visit/courses&#x27;</span>,<br>                <span class="hljs-string">&#x27;X-Requested-With&#x27;</span>: <span class="hljs-string">&#x27;XMLHttpRequest&#x27;</span><br>            &#125;,<br>            <span class="hljs-attr">onload</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">xhr</span>) &#123;<br>                <span class="hljs-keyword">var</span> list = $(<span class="hljs-string">&#x27;h3 a[target]&#x27;</span>, xhr.<span class="hljs-property">responseText</span>).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                    <span class="hljs-keyword">return</span> $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>);<br>                &#125;),<br>                    index = list.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) &#123;<br>                        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>.<span class="hljs-title function_">match</span>(top.<span class="hljs-property">courseId</span>) &amp;&amp; index;<br>                    &#125;).<span class="hljs-title function_">filter</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                        <span class="hljs-keyword">return</span> $.<span class="hljs-title function_">isNumeric</span>(<span class="hljs-variable language_">this</span>);<br>                    &#125;)[<span class="hljs-number">0</span>] + <span class="hljs-number">1</span> || <span class="hljs-number">0</span>;<br>                setting.<span class="hljs-property">course</span> = list[index] ? <span class="hljs-title function_">goCourse</span>(list[index]) : <span class="hljs-number">0</span>;<br>            &#125;<br>        &#125;);<br>    &#125;<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">goCourse</span>(<span class="hljs-params">url</span>) &#123;<br>    <span class="hljs-title function_">GM_xmlhttpRequest</span>(&#123;<br>        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,<br>        <span class="hljs-attr">url</span>: url,<br>        <span class="hljs-attr">onload</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">xhr</span>) &#123;<br>            $.<span class="hljs-title function_">globalEval</span>(<span class="hljs-string">&#x27;location.href = &quot;&#x27;</span> + $(<span class="hljs-string">&#x27;.articlename a[href]&#x27;</span>, xhr.<span class="hljs-property">responseText</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;href&#x27;</span>) + <span class="hljs-string">&#x27;&quot;;&#x27;</span>);<br>        &#125;<br>    &#125;);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">autoRead</span>(<span class="hljs-params"></span>) &#123;<br>    $(<span class="hljs-string">&#x27;html, body&#x27;</span>).<span class="hljs-title function_">animate</span>(&#123;<br>        <span class="hljs-attr">scrollTop</span>: $(<span class="hljs-variable language_">document</span>).<span class="hljs-title function_">height</span>() - $(<span class="hljs-variable language_">window</span>).<span class="hljs-title function_">height</span>()<br>    &#125;, <span class="hljs-title class_">Math</span>.<span class="hljs-title function_">round</span>(setting.<span class="hljs-property">read</span>) * <span class="hljs-number">1E3</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        $(<span class="hljs-string">&#x27;.nodeItem.r i&#x27;</span>).<span class="hljs-title function_">click</span>();<br>    &#125;).<span class="hljs-title function_">one</span>(<span class="hljs-string">&#x27;click&#x27;</span>, <span class="hljs-string">&#x27;#top&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">event</span>) &#123;<br>        $(event.<span class="hljs-property">delegateTarget</span>).<span class="hljs-title function_">stop</span>();<br>    &#125;);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">DisplayURL</span>(<span class="hljs-params"></span>) &#123;<br>    _self.<span class="hljs-property">WAY</span>.<span class="hljs-property">box</span>.<span class="hljs-title function_">hide</span>();<br>    <span class="hljs-keyword">var</span> $li = $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">closest</span>(<span class="hljs-string">&#x27;li&#x27;</span>);<br>    $.<span class="hljs-title function_">get</span>(<span class="hljs-string">&#x27;/visit/goToCourseByFace&#x27;</span>, &#123;<br>        <span class="hljs-attr">courseId</span>: $li.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;input[name=courseId]&#x27;</span>).<span class="hljs-title function_">val</span>(),<br>        <span class="hljs-attr">clazzId</span>: $li.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;input[name=classId]&#x27;</span>).<span class="hljs-title function_">val</span>()<br>    &#125;, <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>        $li.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;[onclick^=openFaceTip]&#x27;</span>).<span class="hljs-title function_">removeAttr</span>(<span class="hljs-string">&#x27;onclick&#x27;</span>).<span class="hljs-title function_">attr</span>(&#123;<br>            <span class="hljs-attr">target</span>: <span class="hljs-string">&#x27;_blank&#x27;</span>,<br>            <span class="hljs-attr">href</span>: $(data).<span class="hljs-title function_">filter</span>(<span class="hljs-string">&#x27;script:last&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/n\(&quot;(.+?)&quot;/</span>)[<span class="hljs-number">1</span>]<br>        &#125;);<br>        <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;本课程已临时解除面部识别&#x27;</span>);<br>    &#125;, <span class="hljs-string">&#x27;html&#x27;</span>);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getSchoolId</span>(<span class="hljs-params"></span>) &#123;<br>    <span class="hljs-keyword">var</span> school = <span class="hljs-regexp">/^1\d&#123;10&#125;$/</span>.<span class="hljs-title function_">test</span>(setting.<span class="hljs-property">username</span>) ? <span class="hljs-string">&#x27;&#x27;</span> : setting.<span class="hljs-property">school</span>;<br>    <span class="hljs-keyword">if</span> (!<span class="hljs-built_in">isNaN</span>(school)) <span class="hljs-keyword">return</span> <span class="hljs-built_in">setTimeout</span>(toLogin, setting.<span class="hljs-property">time</span>, school);<br>    <span class="hljs-keyword">if</span> (school == <span class="hljs-string">&#x27;账号为手机号可以不修改此参数&#x27;</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;请修改school参数&#x27;</span>);<br>    $.<span class="hljs-title function_">getJSON</span>(<span class="hljs-string">&#x27;/org/searchUnis?filter=&#x27;</span> + <span class="hljs-built_in">encodeURI</span>(school) + <span class="hljs-string">&#x27;&amp;product=44&#x27;</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">data</span>) &#123;<br>        <span class="hljs-keyword">if</span> (!data.<span class="hljs-property">result</span>) <span class="hljs-keyword">return</span> <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;学校查询错误&#x27;</span>);<br>        <span class="hljs-keyword">var</span> msg = $.<span class="hljs-title function_">grep</span>(data.<span class="hljs-property">froms</span>, <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>            <span class="hljs-keyword">return</span> value.<span class="hljs-property">name</span> == school;<br>        &#125;)[<span class="hljs-number">0</span>];<br>        msg ? <span class="hljs-built_in">setTimeout</span>(toLogin, setting.<span class="hljs-property">time</span>, msg.<span class="hljs-property">schoolid</span>) : <span class="hljs-title function_">alert</span>(<span class="hljs-string">&#x27;学校名称不完整&#x27;</span>);<br>    &#125;);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">toLogin</span>(<span class="hljs-params">fid</span>) &#123;<br>    <span class="hljs-title function_">GM_xmlhttpRequest</span>(&#123;<br>        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;GET&#x27;</span>,<br>        <span class="hljs-attr">url</span>: <span class="hljs-string">&#x27;/api/login?name=&#x27;</span> + setting.<span class="hljs-property">username</span> + <span class="hljs-string">&#x27;&amp;pwd=&#x27;</span> + setting.<span class="hljs-property">password</span> + <span class="hljs-string">&#x27;&amp;schoolid=&#x27;</span> + fid + <span class="hljs-string">&#x27;&amp;verify=0&#x27;</span>,<br>        <span class="hljs-attr">onload</span>: <span class="hljs-keyword">function</span> (<span class="hljs-params">xhr</span>) &#123;<br>            <span class="hljs-keyword">var</span> obj = $.<span class="hljs-title function_">parseJSON</span>(xhr.<span class="hljs-property">responseText</span>) || &#123;&#125;;<br>            obj.<span class="hljs-property">result</span> ? location.<span class="hljs-property">href</span> = <span class="hljs-built_in">decodeURIComponent</span>($(<span class="hljs-string">&#x27;#ref, #refer_0x001&#x27;</span>).<span class="hljs-title function_">val</span>()) : <span class="hljs-title function_">alert</span>(obj.<span class="hljs-property">errorMsg</span> || <span class="hljs-string">&#x27;Error&#x27;</span>);<br>        &#125;<br>    &#125;);<br>&#125;<br> <br><span class="hljs-comment">// 测验试题Dom</span><br><span class="hljs-keyword">var</span> html = <span class="hljs-string">&quot;&quot;</span>;<br><span class="hljs-keyword">function</span> <span class="hljs-title function_">submitAnswer</span>(<span class="hljs-params">$job, data</span>) &#123;<br>    $job.<span class="hljs-title function_">removeClass</span>(<span class="hljs-string">&#x27;ans-job-finished&#x27;</span>);<br>    html = $(<span class="hljs-string">&quot;.CeYan&quot;</span>).<span class="hljs-title function_">html</span>()||$(<span class="hljs-string">&quot;body&quot;</span>).<span class="hljs-title function_">html</span>();<br>    data = data.<span class="hljs-property">length</span> ? $(data) : $(<span class="hljs-string">&#x27;.TiMu&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">var</span> question = <span class="hljs-title function_">filterImg</span>($(<span class="hljs-string">&#x27;.Zy_TItle .clearfix&#x27;</span>, <span class="hljs-variable language_">this</span>));<br>        <span class="hljs-keyword">return</span> &#123;<br>            <span class="hljs-attr">title</span>: question.<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/^【.*?】\s*/</span>, <span class="hljs-string">&#x27;&#x27;</span>),<br>            <span class="hljs-attr">type</span>: (&#123; 单选题: <span class="hljs-number">0</span>, 多选题: <span class="hljs-number">1</span>, 填空题: <span class="hljs-number">2</span>, 判断题: <span class="hljs-number">3</span> &#125;)[question.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/^【(.*?)】|$/</span>)[<span class="hljs-number">1</span>]]||<span class="hljs-number">100</span><br>        &#125;;<br>    &#125;);<br>    data = $.<span class="hljs-title function_">grep</span>(data.<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">index</span>) &#123;<br>        <span class="hljs-keyword">var</span> $TiMu = $(<span class="hljs-string">&#x27;.TiMu&#x27;</span>).<span class="hljs-title function_">eq</span>(index);<br>        <span class="hljs-keyword">if</span> (!($.<span class="hljs-title function_">isPlainObject</span>(<span class="hljs-variable language_">this</span>) &amp;&amp; $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.fr&#x27;</span>).<span class="hljs-property">length</span>)) &#123;<br>            <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> == <span class="hljs-number">2</span>) &#123;<br>            <span class="hljs-keyword">var</span> $ans = $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Py_tk, .Py_answer&#x27;</span>).<span class="hljs-title function_">eq</span>(<span class="hljs-number">0</span>);<br>            <span class="hljs-keyword">if</span> (!$TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.cuo&#x27;</span>).<span class="hljs-property">length</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span>) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!$ans.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.cuo&#x27;</span>).<span class="hljs-property">length</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> = $ans.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.clearfix&#x27;</span>).<span class="hljs-title function_">map</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>                    <span class="hljs-keyword">return</span> $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>();<br>                &#125;).<span class="hljs-title function_">get</span>().<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;#&#x27;</span>) || <span class="hljs-string">&#x27;无&#x27;</span>;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span> = -<span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">type</span> == <span class="hljs-number">3</span>) &#123;<br>            <span class="hljs-keyword">var</span> ans = $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.font20:last&#x27;</span>).<span class="hljs-title function_">text</span>();<br>            <span class="hljs-keyword">if</span> ($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.cuo&#x27;</span>).<span class="hljs-property">length</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> = (&#123; <span class="hljs-string">&#x27;√&#x27;</span>: <span class="hljs-string">&#x27;错误&#x27;</span>, <span class="hljs-string">&#x27;×&#x27;</span>: <span class="hljs-string">&#x27;正确&#x27;</span> &#125;)[ans] || <span class="hljs-string">&#x27;无&#x27;</span>;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (!<span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> = (&#123; <span class="hljs-string">&#x27;√&#x27;</span>: <span class="hljs-string">&#x27;正确&#x27;</span>, <span class="hljs-string">&#x27;×&#x27;</span>: <span class="hljs-string">&#x27;错误&#x27;</span> &#125;)[ans] || <span class="hljs-string">&#x27;无&#x27;</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125;<br>        &#125; <span class="hljs-keyword">else</span> &#123;<br>            <span class="hljs-keyword">var</span> options=<span class="hljs-string">&quot;&quot;</span>;<br>            <span class="hljs-keyword">var</span> text = $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Py_answer &gt; span:eq(0)&#x27;</span>).<span class="hljs-title function_">text</span>();<br>            <span class="hljs-keyword">if</span> ($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.dui&#x27;</span>).<span class="hljs-property">length</span> &amp;&amp; <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span> &amp;&amp; !<span class="hljs-regexp">/^A?B?C?D?E?F?G?$/</span>.<span class="hljs-title function_">test</span>(<span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span>)) &#123;<br>                <span class="hljs-keyword">return</span> <span class="hljs-literal">false</span>;<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> ($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.dui&#x27;</span>).<span class="hljs-property">length</span> || text.<span class="hljs-title function_">match</span>(<span class="hljs-string">&#x27;正确答案&#x27;</span>)) &#123;<br>                text = text.<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/[A-G]/gi</span>) || [];<br>                $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Zy_ulTop&gt;li&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>                    options+=<span class="hljs-title function_">filterImg</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">trim</span>()+<span class="hljs-string">&quot;\n&quot;</span>;<br>                &#125;)<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options.<span class="hljs-title function_">trim</span>();<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> = $.<span class="hljs-title function_">map</span>(text, <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>                    <span class="hljs-keyword">return</span> <span class="hljs-title function_">filterImg</span>($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.fl:contains(&#x27;</span> + value + <span class="hljs-string">&#x27;) + a&#x27;</span>));<br>                &#125;).<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;#&#x27;</span>) || <span class="hljs-string">&#x27;无&#x27;</span>;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">key</span> = text.<span class="hljs-title function_">join</span>(<span class="hljs-string">&#x27;&#x27;</span>);<br>            &#125; <span class="hljs-keyword">else</span> <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span>) &#123;<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">code</span> = -<span class="hljs-number">1</span>;<br>            &#125; <span class="hljs-keyword">else</span> &#123;<br>                $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Zy_ulTop&gt;li&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>                    options+=<span class="hljs-title function_">filterImg</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">trim</span>()+<span class="hljs-string">&quot;\n&quot;</span>;<br>                &#125;)<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options.<span class="hljs-title function_">trim</span>();<br>                <span class="hljs-keyword">if</span> ($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Py_answer &gt; span&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-string">&#x27;正确答案&#x27;</span>))&#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> =$TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Py_answer &gt; span&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/正确答案：(.*?)$|正确答案：(.*?) $/</span>)[<span class="hljs-number">1</span>];<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> = <span class="hljs-string">&quot;&quot;</span>;<br>                &#125;<br>            &#125;<br>            <span class="hljs-keyword">if</span> (<span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span> ===<span class="hljs-string">&quot;无&quot;</span>)&#123;<br>                $TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Zy_ulTop&gt;li&#x27;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>                    options+=<span class="hljs-title function_">filterImg</span>(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">trim</span>()+<span class="hljs-string">&quot;\n&quot;</span>;<br>                &#125;)<br>                <span class="hljs-variable language_">this</span>.<span class="hljs-property">options</span> = options.<span class="hljs-title function_">trim</span>();<br>                <span class="hljs-keyword">if</span> ($TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Py_answer &gt; span&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-string">&#x27;正确答案&#x27;</span>))&#123;<br>                    <span class="hljs-variable language_">this</span>.<span class="hljs-property">answer</span>=$TiMu.<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.Py_answer &gt; span&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/正确答案：(.*?)$|正确答案：(.*?) $/</span>)[<span class="hljs-number">1</span>];<br>                &#125;<span class="hljs-keyword">else</span>&#123;<br>                    <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-string">&quot;没有找到正确答案&quot;</span>);<br>                &#125;<br>            &#125;<br>        &#125;<br>        <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> = <span class="hljs-variable language_">this</span>.<span class="hljs-property">title</span> || <span class="hljs-variable language_">this</span>.<span class="hljs-property">question</span>;<br>        <span class="hljs-variable language_">console</span>.<span class="hljs-title function_">log</span>(<span class="hljs-variable language_">this</span>);<br>        <span class="hljs-keyword">return</span> <span class="hljs-variable language_">this</span>;<br>    &#125;), <span class="hljs-keyword">function</span> (<span class="hljs-params">value</span>) &#123;<br>        <span class="hljs-keyword">return</span> value &amp;&amp; value.<span class="hljs-property">answer</span> != <span class="hljs-string">&#x27;无&#x27;</span>;<br>    &#125;);<br>    <span class="hljs-keyword">var</span> jobid=<span class="hljs-string">&quot;&quot;</span>;<br>    <span class="hljs-keyword">if</span> ($(<span class="hljs-string">&#x27;#jobid&#x27;</span>).<span class="hljs-property">length</span>&gt;<span class="hljs-number">0</span>)&#123;<br>        jobid=$(<span class="hljs-string">&#x27;#jobid&#x27;</span>).<span class="hljs-title function_">val</span>().<span class="hljs-title function_">slice</span>(<span class="hljs-number">5</span>);<br>    &#125;<span class="hljs-keyword">else</span>&#123;<br>        jobid=<span class="hljs-string">&quot;&quot;</span>;<br>    &#125;<br>    setting.<span class="hljs-property">curs</span> = $(<span class="hljs-string">&#x27;script:contains(courseName)&#x27;</span>, top.<span class="hljs-property">document</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/courseName:\&#x27;(.+?)\&#x27;|$/</span>)[<span class="hljs-number">1</span>] || $(<span class="hljs-string">&#x27;h1&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>().<span class="hljs-title function_">replace</span>(<span class="hljs-regexp">/(.*)课程评价/</span>,<span class="hljs-string">&#x27;$1&#x27;</span>).<span class="hljs-title function_">trim</span>() || <span class="hljs-string">&#x27;无&#x27;</span>;<br>    <span class="hljs-keyword">var</span> chapter_list = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">stringify</span>(<span class="hljs-title function_">getDirList</span>());<br>    <span class="hljs-keyword">var</span> cpi = $(<span class="hljs-string">&quot;#cpi&quot;</span>).<span class="hljs-title function_">val</span>();<br>    <span class="hljs-keyword">var</span> fid = $(<span class="hljs-string">&#x27;script:contains(fid)&#x27;</span>, top.<span class="hljs-property">document</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/fid:\&#x27;(.+?)\&#x27;|$/</span>)[<span class="hljs-number">1</span>] || $(<span class="hljs-string">&#x27;script:contains(fid)&#x27;</span>, top.<span class="hljs-property">document</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/fid=(.+?)&amp;|$/</span>)[<span class="hljs-number">1</span>] || $(<span class="hljs-string">&#x27;script:contains(fid):eq(1)&#x27;</span>,self.<span class="hljs-property">window</span>.<span class="hljs-property">parent</span>.<span class="hljs-property">parent</span>.<span class="hljs-property">document</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">match</span>(<span class="hljs-regexp">/&quot;fid&quot;:&quot;(.+?)&quot;|$/</span>)[<span class="hljs-number">1</span>] || <span class="hljs-string">&#x27;无&#x27;</span>;<br>    data.<span class="hljs-property">length</span> &amp;&amp; <span class="hljs-title function_">GM_xmlhttpRequest</span>(&#123;<br>        <span class="hljs-attr">method</span>: <span class="hljs-string">&#x27;POST&#x27;</span>,<br>        <span class="hljs-attr">url</span>: apihost + <span class="hljs-string">&#x27;/upload&#x27;</span>,<br>        <span class="hljs-attr">headers</span>: &#123;<br>            <span class="hljs-string">&#x27;Content-type&#x27;</span>: <span class="hljs-string">&#x27;application/x-www-form-urlencoded&#x27;</span>,<br>        &#125;,<br>        <span class="hljs-attr">data</span>: <span class="hljs-string">&#x27;course=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(setting.<span class="hljs-property">curs</span>) + <span class="hljs-string">&#x27;&amp;data=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>((<span class="hljs-title class_">Ext</span>.<span class="hljs-property">encode</span> || <span class="hljs-title class_">JSON</span>.<span class="hljs-property">stringify</span>)(data)) + <span class="hljs-string">&#x27;&amp;id=&#x27;</span> + jobid<br>        + <span class="hljs-string">&#x27;&amp;cpi=&#x27;</span>+ cpi<br>        + <span class="hljs-string">&#x27;&amp;chapter_list=&#x27;</span> + chapter_list<br>        + <span class="hljs-string">&#x27;&amp;html=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(html)<br>        + <span class="hljs-string">&#x27;&amp;fid=&#x27;</span> + fid<br>        + <span class="hljs-string">&#x27;&amp;url=&#x27;</span> + <span class="hljs-built_in">encodeURIComponent</span>(top.<span class="hljs-property">document</span>.<span class="hljs-property">URL</span>)+<span class="hljs-string">&#x27;&amp;version=8.0.13&#x27;</span><br>    &#125;);<br>    <span class="hljs-comment">//$(&#x27;#right&#x27;).click()</span><br>    <span class="hljs-comment">//$(&#x27;#right2&#x27;).click()</span><br>    $job.<span class="hljs-title function_">addClass</span>(<span class="hljs-string">&#x27;ans-job-finished&#x27;</span>);<br>&#125;<br> <br><span class="hljs-keyword">function</span> <span class="hljs-title function_">filterImg</span>(<span class="hljs-params">dom</span>) &#123;<br>    <span class="hljs-keyword">return</span> $(dom).<span class="hljs-title function_">clone</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;img[src]&#x27;</span>).<span class="hljs-title function_">replaceWith</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> $(<span class="hljs-string">&#x27;&lt;p&gt;&lt;/p&gt;&#x27;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;&lt;img src=&quot;&#x27;</span> + $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;src&#x27;</span>) + <span class="hljs-string">&#x27;&quot;&gt;&#x27;</span>);<br>    &#125;).<span class="hljs-title function_">end</span>().<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;iframe[src]&#x27;</span>).<span class="hljs-title function_">replaceWith</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params"></span>) &#123;<br>        <span class="hljs-keyword">return</span> $(<span class="hljs-string">&#x27;&lt;p&gt;&lt;/p&gt;&#x27;</span>).<span class="hljs-title function_">text</span>(<span class="hljs-string">&#x27;&lt;iframe src=&quot;&#x27;</span> + $(<span class="hljs-variable language_">this</span>).<span class="hljs-title function_">attr</span>(<span class="hljs-string">&#x27;src&#x27;</span>) + <span class="hljs-string">&#x27;&quot;&gt;&lt;/irame&gt;&#x27;</span>);<br>    &#125;).<span class="hljs-title function_">end</span>().<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>();<br>&#125;<br> <br><span class="hljs-comment">// 获取文章侧栏列表</span><br><span class="hljs-keyword">function</span> <span class="hljs-title function_">getDirList</span>(<span class="hljs-params"></span>)&#123;<br>    <span class="hljs-keyword">var</span> $ = top.<span class="hljs-property">jQuery</span>;<br>    <span class="hljs-keyword">var</span> json_dir = &#123;<span class="hljs-string">&quot;current&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;list&quot;</span>:[]&#125;;<br>    <span class="hljs-comment">// 有侧栏列表</span><br>    json_dir.<span class="hljs-property">current</span> = $(<span class="hljs-string">&quot;.cells&quot;</span>).<span class="hljs-title function_">find</span>(<span class="hljs-string">&#x27;.currents&gt;a&gt;span&#x27;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>();<br>    $(<span class="hljs-string">&quot;.cells&quot;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>)&#123;<br>        <span class="hljs-keyword">var</span> temp_json = &#123;<span class="hljs-string">&quot;titlewords&quot;</span>:<span class="hljs-string">&quot;&quot;</span>,<span class="hljs-string">&quot;titles&quot;</span>:[]&#125;;<br>        <span class="hljs-keyword">var</span> _this = $(<span class="hljs-variable language_">this</span>);<br>        temp_json.<span class="hljs-property">titlewords</span> = _this.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;span.titlewords&quot;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>();<br>        _this.<span class="hljs-title function_">find</span>(<span class="hljs-string">&quot;h4&gt;a&gt;span&quot;</span>).<span class="hljs-title function_">each</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params">i,item</span>)&#123;<br>            temp_json.<span class="hljs-property">titles</span>.<span class="hljs-title function_">push</span>($(item).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>());<br>        &#125;);<br>        json_dir.<span class="hljs-property">list</span>.<span class="hljs-title function_">push</span>(temp_json);<br>    &#125;)<br>    <span class="hljs-comment">// 无侧栏列表</span><br>    <span class="hljs-keyword">if</span>(json_dir.<span class="hljs-property">current</span> == <span class="hljs-string">&quot;&quot;</span>)&#123;<br>        json_dir.<span class="hljs-property">current</span> = $(<span class="hljs-string">&quot;.CeYan li.cur&quot;</span>).<span class="hljs-title function_">text</span>().<span class="hljs-title function_">trim</span>();<br>    &#125;<br> <br>    <span class="hljs-keyword">return</span> json_dir;<br>&#125;<br></code></pre></td></tr></table></figure><h3 id="如果觉得该教程对你有帮助，可以通过下方的支付宝-微信收款码进行打赏。">如果觉得该教程对你有帮助，可以通过下方的支付宝/微信收款码进行打赏。</h3><p><img src="/images/2022-3-12-1.png" srcset="/img/loading.gif" lazyload alt="微信打赏"></p><p><img src="/images/2022-3-12-2.png" srcset="/img/loading.gif" lazyload alt="支付宝打赏"></p><h4 id="感谢打赏！！">感谢打赏！！</h4></div><hr><div><div class="post-metas my-3"><div class="post-meta mr-3 d-flex align-items-center"><i class="iconfont icon-category"></i> <span class="category-chains"><span class="category-chain"><a href="/categories/%E7%A6%8F%E5%88%A9/" class="category-chain-item">福利</a> <span>></span> <a href="/categories/%E7%A6%8F%E5%88%A9/%E8%B6%85%E6%98%9F/" class="category-chain-item">超星</a></span></span></div><div class="post-meta"><i class="iconfont icon-tags"></i> <a href="/tags/%E7%A6%8F%E5%88%A9/">#福利</a> <a href="/tags/%E8%B6%85%E6%98%9F/">#超星</a></div></div><div class="license-box my-3"><div class="license-title"><div>【福利】超星全自动刷网课刷题脚本开源【22.4.23更新】</div><div>https://jinbilianshao.github.io/2022/03/12/【福利】超星全自动刷网课刷题脚本开源/</div></div><div class="license-meta"><div class="license-meta-item"><div>作者</div><div>连思鑫</div></div><div class="license-meta-item license-meta-date"><div>发布于</div><div>2022年3月12日</div></div><div class="license-meta-item"><div>许可协议</div><div><a target="_blank" href="https://creativecommons.org/licenses/by/4.0/"><span class="hint--top hint--rounded" aria-label="BY - 署名"><i class="iconfont icon-by"></i></span></a></div></div></div><div class="license-icon iconfont"></div></div><div class="post-prevnext my-3"><article class="post-prev col-6"><a href="/2022/03/12/%E5%B8%B8%E7%94%A8Linux%E5%91%BD%E4%BB%A4/" title="常用Linux命令总结"><i class="iconfont icon-arrowleft"></i> <span class="hidden-mobile">常用Linux命令总结</span> <span class="visible-mobile">上一篇</span></a></article><article class="post-next col-6"><a href="/2022/03/12/%E3%80%90%E7%A6%8F%E5%88%A9%E3%80%91%E5%85%A8%E5%9B%BD%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%AD%89%E7%BA%A7%E8%80%83%E8%AF%95%E6%A8%A1%E6%8B%9F%E8%BD%AF%E4%BB%B6/" title="【福利】全国计算机等级考试模拟软件"><span class="hidden-mobile">【福利】全国计算机等级考试模拟软件</span> <span class="visible-mobile">下一篇</span> <i class="iconfont icon-arrowright"></i></a></article></div></div><article id="comments" lazyload><div id="SOHUCS" sid="https://jinbilianshao.github.io/2022/03/12/%E3%80%90%E7%A6%8F%E5%88%A9%E3%80%91%E8%B6%85%E6%98%9F%E5%85%A8%E8%87%AA%E5%8A%A8%E5%88%B7%E7%BD%91%E8%AF%BE%E5%88%B7%E9%A2%98%E8%84%9A%E6%9C%AC%E5%BC%80%E6%BA%90/"></div><script type="text/javascript">Fluid.utils.loadComments("#SOHUCS",function(){Fluid.utils.createScript("https://changyan.sohu.com/upload/changyan.js",function(){window.changyan.api.config({appid:"cyvF6OB0j",appkey:"prod_b5f6e7613498e69aaefd2d441861390a"})})})</script><noscript>Please enable JavaScript to view the comments</noscript></article></article></div></div></div><div class="side-col d-none d-lg-block col-lg-2"><aside class="sidebar" style="margin-left:-1rem"><div id="toc"><p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;目录</p><div class="toc-body" id="toc-body"></div></div></aside></div></div></div><a id="scroll-top-button" aria-label="TOP" href="#" role="button"><i class="iconfont icon-arrowup" aria-hidden="true"></i></a><div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel" aria-hidden="true"><div class="modal-dialog modal-dialog-scrollable modal-lg" role="document"><div class="modal-content"><div class="modal-header text-center"><h4 class="modal-title w-100 font-weight-bold">搜索</h4><button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button></div><div class="modal-body mx-3"><div class="md-form mb-5"><input type="text" id="local-search-input" class="form-control validate"> <label data-error="x" data-success="v" for="local-search-input">关键词</label></div><div class="list-group" id="local-search-result"></div></div></div></div></div><div class="col-lg-7 mx-auto nopadding-x-md"><div class="container custom mx-auto"><style>.katex-html{display:none!important}.katex-mathml{display:inline-block!important}.katex-display{margin:1em 0!important;text-align:center!important;overflow:auto hidden!important}.katex{font-size:1.1em!important;line-height:1.2!important}.katex-display .katex:not(:first-child),.katex:not(:first-child){display:none!important}</style></div></div></main><footer><div class="footer-inner"><div class="footer-content"><a href="https://jinbilianshao.github.io/xiaoxin" target="_blank" rel="nofollow noopener"><span>版权所有者：连思鑫</span></a> <i class="iconfont icon-love"></i> <a href="https://github.com/fluid-dev/hexo-theme-fluid" target="_blank" rel="nofollow noopener"><span>Fluid</span></a></div><div class="statistics"><span id="busuanzi_container_site_pv" style="display:none">总访问量 <span id="busuanzi_value_site_pv"></span> 次 </span><span id="busuanzi_container_site_uv" style="display:none">总访客数 <span id="busuanzi_value_site_uv"></span> 人</span></div></div></footer><script src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js"></script><link rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css"><script>NProgress.configure({showSpinner:!1,trickleSpeed:100}),NProgress.start(),window.addEventListener("load",function(){NProgress.done()})</script><script src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js"></script><script src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js"></script><script src="/js/events.js"></script><script src="/js/plugins.js"></script><script src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js"></script><script>!function(t){var e=Fluid.plugins.typing,i=t.getElementById("subtitle");i&&e&&e(i.getAttribute("data-typed-text"))}((window,document))</script><script src="/js/img-lazyload.js"></script><script>Fluid.utils.createScript("https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js",function(){var t,o=jQuery("#toc");0!==o.length&&window.tocbot&&(t=jQuery("#board-ctn").offset().top,window.tocbot.init({tocSelector:"#toc-body",contentSelector:".markdown-body",headingSelector:CONFIG.toc.headingSelector||"h1,h2,h3,h4,h5,h6",linkClass:"tocbot-link",activeLinkClass:"tocbot-active-link",listClass:"tocbot-list",isCollapsedClass:"tocbot-is-collapsed",collapsibleClass:"tocbot-is-collapsible",collapseDepth:CONFIG.toc.collapseDepth||0,scrollSmooth:!0,headingsOffset:-t}),0<o.find(".toc-list-item").length&&o.css("visibility","visible"))})</script><script>!function(){var i,t=CONFIG.code_language.enable&&CONFIG.code_language.default,c=CONFIG.copy_btn;(t||c)&&(i="",i+='<div class="code-widget">',i+="LANG",i+="</div>",jQuery(".markdown-body pre").each(function(){var e,a,n=jQuery(this);0<n.find("code.mermaid").length||0<n.find("span.line").length||(e="",t&&(e=CONFIG.code_language.default,0<n[0].children.length&&2<=n[0].children[0].classList.length&&n.children().hasClass("hljs")?e=n[0].children[0].classList[1]:n[0].getAttribute("data-language")?e=n[0].getAttribute("data-language"):n.parent().hasClass("sourceCode")&&0<n[0].children.length&&2<=n[0].children[0].classList.length?(e=n[0].children[0].classList[1],n.parent().addClass("code-wrapper")):n.parent().hasClass("markdown-body")&&0===n[0].classList.length&&n.wrap('<div class="code-wrapper"></div>'),e=e.toUpperCase().replace("NONE",CONFIG.code_language.default)),n.append(i.replace("LANG",e).replace('code-widget">',(a=n[0],(0<=Fluid.utils.getBackgroundLightness(a)?"code-widget-light":"code-widget-dark")+(c?' code-widget copy-btn" data-clipboard-snippet><i class="iconfont icon-copy"></i>':' code-widget">')))),c&&Fluid.utils.createScript("https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js",function(){new window.ClipboardJS(".copy-btn",{target:function(e){for(var a=e.parentNode.childNodes,n=0;n<a.length;n++)if("CODE"===a[n].tagName)return a[n]}}).on("success",function(e){e.clearSelection(),e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-copy","icon-success"),setTimeout(function(){e.trigger.innerHTML=e.trigger.innerHTML.replace("icon-success","icon-copy")},2e3)})}))}))}()</script><script>Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });</script><script>Fluid.utils.createScript("https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js",function(){Fluid.plugins.fancyBox()})</script><script>Fluid.plugins.imageCaption()</script><script src="/js/local-search.js"></script><script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><script src="/js/boot.js"></script><noscript><div class="noscript-warning">博客在允许 JavaScript 运行的环境下浏览效果更佳</div></noscript><script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({pluginRootPath:"live2dw/",pluginJsPath:"lib/",pluginModelPath:"assets/",tagMode:!1,debug:!1,model:{scale:1,hHeadPos:.5,vHeadPos:.618,jsonPath:"/live2dw/assets/shizuku.model.json"},display:{position:"right",width:150,height:300,hOffset:0,vOffset:-20},mobile:{show:!0,scale:.5},react:{opacityDefault:.7,opacityOnHover:.9},log:!1})</script></body></html>